!function(t){var r={};function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)n.d(e,i,function(r){return t[r]}.bind(null,i));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="/",n(n.s=8)}([function(t,r,n){t.exports=n(9)},,,,,,,,function(t,r,n){t.exports=n(10)},function(t,r,n){var e=function(t){"use strict";var r=Object.prototype,n=r.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",a=e.toStringTag||"@@toStringTag";function s(t,r,n,e){var i=r&&r.prototype instanceof f?r:f,o=Object.create(i.prototype),a=new O(e||[]);return o._invoke=function(t,r,n){var e="suspendedStart";return function(i,o){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===e)throw e="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);e="executing";var f=u(t,r,n);if("normal"===f.type){if(e=n.done?"completed":"suspendedYield",f.arg===c)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(e="completed",n.method="throw",n.arg=f.arg)}}}(t,n,a),o}function u(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var c={};function f(){}function l(){}function h(){}var p={};p[i]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(x([])));v&&v!==r&&n.call(v,i)&&(p=v);var y=h.prototype=f.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(r){t[r]=function(t){return this._invoke(r,t)}}))}function b(t,r){var e;this._invoke=function(i,o){function a(){return new r((function(e,a){!function e(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?r.resolve(l.__await).then((function(t){e("next",t,a,s)}),(function(t){e("throw",t,a,s)})):r.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return e("throw",t,a,s)}))}s(c.arg)}(i,o,e,a)}))}return e=e?e.then(a,a):a()}}function _(t,r){var n=t.iterator[r.method];if(void 0===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,_(t,r),"throw"===r.method))return c;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var e=u(n,t.iterator,r.arg);if("throw"===e.type)return r.method="throw",r.arg=e.arg,r.delegate=null,c;var i=e.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,c):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,c)}function w(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function g(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return l.prototype=y.constructor=h,h.constructor=l,h[a]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===l||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(r,n,e,i,o){void 0===o&&(o=Promise);var a=new b(s(r,n,e,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),y[a]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var n in t)r.push(n);return r.reverse(),function n(){for(;r.length;){var e=r.pop();if(e in t)return n.value=e,n.done=!1,n}return n.done=!0,n}},t.values=x,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n,e){return a.type="throw",a.arg=t,r.next=n,e&&(r.method="next",r.arg=void 0),!!e}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),c},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),g(n),c}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var e=n.completion;if("throw"===e.type){var i=e.arg;g(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:x(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},function(t,r,n){"use strict";n.r(r);var e={};n.r(e),n.d(e,"create",(function(){return ae})),n.d(e,"clone",(function(){return se})),n.d(e,"copy",(function(){return ue})),n.d(e,"fromValues",(function(){return ce})),n.d(e,"set",(function(){return fe})),n.d(e,"identity",(function(){return le})),n.d(e,"transpose",(function(){return he})),n.d(e,"invert",(function(){return pe})),n.d(e,"adjoint",(function(){return de})),n.d(e,"determinant",(function(){return ve})),n.d(e,"multiply",(function(){return ye})),n.d(e,"translate",(function(){return me})),n.d(e,"scale",(function(){return be})),n.d(e,"rotate",(function(){return _e})),n.d(e,"rotateX",(function(){return we})),n.d(e,"rotateY",(function(){return ge})),n.d(e,"rotateZ",(function(){return Oe})),n.d(e,"fromTranslation",(function(){return xe})),n.d(e,"fromScaling",(function(){return Me})),n.d(e,"fromRotation",(function(){return je})),n.d(e,"fromXRotation",(function(){return Ae})),n.d(e,"fromYRotation",(function(){return Pe})),n.d(e,"fromZRotation",(function(){return ke})),n.d(e,"fromRotationTranslation",(function(){return De})),n.d(e,"fromQuat2",(function(){return Se})),n.d(e,"getTranslation",(function(){return Ee})),n.d(e,"getScaling",(function(){return Le})),n.d(e,"getRotation",(function(){return Re})),n.d(e,"fromRotationTranslationScale",(function(){return Te})),n.d(e,"fromRotationTranslationScaleOrigin",(function(){return ze})),n.d(e,"fromQuat",(function(){return Ce})),n.d(e,"frustum",(function(){return Ie})),n.d(e,"perspective",(function(){return Fe})),n.d(e,"perspectiveFromFieldOfView",(function(){return Be})),n.d(e,"ortho",(function(){return Ue})),n.d(e,"lookAt",(function(){return Ne})),n.d(e,"targetTo",(function(){return Ge})),n.d(e,"str",(function(){return qe})),n.d(e,"frob",(function(){return Ve})),n.d(e,"add",(function(){return Ye})),n.d(e,"subtract",(function(){return He})),n.d(e,"multiplyScalar",(function(){return We})),n.d(e,"multiplyScalarAndAdd",(function(){return Xe})),n.d(e,"exactEquals",(function(){return Ke})),n.d(e,"equals",(function(){return Qe})),n.d(e,"mul",(function(){return Ze})),n.d(e,"sub",(function(){return $e}));var i={};n.r(i),n.d(i,"create",(function(){return Je})),n.d(i,"clone",(function(){return ti})),n.d(i,"length",(function(){return ri})),n.d(i,"fromValues",(function(){return ni})),n.d(i,"copy",(function(){return ei})),n.d(i,"set",(function(){return ii})),n.d(i,"add",(function(){return oi})),n.d(i,"subtract",(function(){return ai})),n.d(i,"multiply",(function(){return si})),n.d(i,"divide",(function(){return ui})),n.d(i,"ceil",(function(){return ci})),n.d(i,"floor",(function(){return fi})),n.d(i,"min",(function(){return li})),n.d(i,"max",(function(){return hi})),n.d(i,"round",(function(){return pi})),n.d(i,"scale",(function(){return di})),n.d(i,"scaleAndAdd",(function(){return vi})),n.d(i,"distance",(function(){return yi})),n.d(i,"squaredDistance",(function(){return mi})),n.d(i,"squaredLength",(function(){return bi})),n.d(i,"negate",(function(){return _i})),n.d(i,"inverse",(function(){return wi})),n.d(i,"normalize",(function(){return gi})),n.d(i,"dot",(function(){return Oi})),n.d(i,"cross",(function(){return xi})),n.d(i,"lerp",(function(){return Mi})),n.d(i,"hermite",(function(){return ji})),n.d(i,"bezier",(function(){return Ai})),n.d(i,"random",(function(){return Pi})),n.d(i,"transformMat4",(function(){return ki})),n.d(i,"transformMat3",(function(){return Di})),n.d(i,"transformQuat",(function(){return Si})),n.d(i,"rotateX",(function(){return Ei})),n.d(i,"rotateY",(function(){return Li})),n.d(i,"rotateZ",(function(){return Ri})),n.d(i,"angle",(function(){return Ti})),n.d(i,"zero",(function(){return zi})),n.d(i,"str",(function(){return Ci})),n.d(i,"exactEquals",(function(){return Ii})),n.d(i,"equals",(function(){return Fi})),n.d(i,"sub",(function(){return Ui})),n.d(i,"mul",(function(){return Ni})),n.d(i,"div",(function(){return Gi})),n.d(i,"dist",(function(){return qi})),n.d(i,"sqrDist",(function(){return Vi})),n.d(i,"len",(function(){return Yi})),n.d(i,"sqrLen",(function(){return Hi})),n.d(i,"forEach",(function(){return Wi}));var o=n(0),a=n.n(o),s=function(){r.parse=function(t){return new r(256*t>>0)};var t=r.prototype;function r(t){this._raw=t}return t.asInt=function(){return this._raw/256>>0},t.asDouble=function(){return this._raw/256},r}();function u(t){var r=0;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,r){if(!t)return;if("string"==typeof t)return c(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,r)}(t)))return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function c(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function f(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function l(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){f(o,e,i,a,s,"next",t)}function s(t){f(o,e,i,a,s,"throw",t)}a(void 0)}))}}var h=function(){function t(){this.wlObjects={},this.closed=!1,this._outMessages=[],this._inMessages=[],this._idleHandlers=[]}t.uint=function(t){return{value:t,type:"u",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.uintOptional=function(t){return{value:t,type:"u",size:4,optional:!0,_marshallArg:function(r){new Uint32Array(r.buffer,r.bufferOffset,1)[0]=null===t?0:this.value,r.bufferOffset+=this.size}}},t.fileDescriptor=function(t){return{value:t,type:"h",size:0,optional:!1,_marshallArg:function(t){t.fds.push(this.value)}}},t.fileDescriptorOptional=function(t){return{value:t,type:"h",size:0,optional:!0,_marshallArg:function(t){t.fds.push(this.value)}}},t.int=function(t){return{value:t,type:"i",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.intOptional=function(t){return{value:t,type:"i",size:4,optional:!0,_marshallArg:function(r){new Int32Array(r.buffer,r.bufferOffset,1)[0]=null===t?0:this.value,r.bufferOffset+=this.size}}},t.fixed=function(t){return{value:t,type:"f",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value._raw,t.bufferOffset+=this.size}}},t.fixedOptional=function(t){return{value:t,type:"f",size:4,optional:!0,_marshallArg:function(r){new Int32Array(r.buffer,r.bufferOffset,1)[0]=null===t?0:this.value._raw,r.bufferOffset+=this.size}}},t.object=function(t){return{value:t,type:"o",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.id,t.bufferOffset+=this.size}}},t.objectOptional=function(t){return{value:t,type:"o",size:4,optional:!0,_marshallArg:function(r){new Uint32Array(r.buffer,r.bufferOffset,1)[0]=null===t?0:this.value.id,r.bufferOffset+=this.size}}},t.newObject=function(){return{value:0,type:"n",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.string=function(t){return{value:t+"\0",type:"s",size:4+(t.length+1+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;for(var r=this.value.length,n=new Uint8Array(t.buffer,t.bufferOffset+4,r),e=0;e<r;e++)n[e]=this.value[e].codePointAt(0);t.bufferOffset+=this.size}}},t.stringOptional=function(t){return{value:t+"\0",type:"s",size:4+(null===t?0:t.length+1+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;for(var r=this.value.length,n=new Uint8Array(t.buffer,t.bufferOffset+4,r),e=0;e<r;e++)n[e]=this.value[e].codePointAt(0)}t.bufferOffset+=this.size}}},t.array=function(t){return{value:t,type:"a",size:4+(t.byteLength+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;var r=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,r).set(new Uint8Array(this.value.buffer,0,r)),t.bufferOffset+=this.size}}},t.arrayOptional=function(t){return{value:t,type:"a",size:4+(null===t?0:t.byteLength+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;var r=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,r).set(new Uint8Array(this.value.buffer,0,r))}t.bufferOffset+=this.size}}},t._checkMessageSize=function(t,r){if(t.consumed+r>t.size)throw new Error("Request too short.");t.consumed+=r},t.u=function(r){return t._checkMessageSize(r,4),r.buffer[r.bufferOffset++]},t.i=function(r){t._checkMessageSize(r,4);var n=new Int32Array(r.buffer.buffer,r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return r.bufferOffset+=1,n},t.f=function(r){t._checkMessageSize(r,4);var n=new Int32Array(r.buffer.buffer,r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return r.bufferOffset+=1,new s(n>>0)},t.o=function(r,n,e){t._checkMessageSize(r,4);var i=r.buffer[r.bufferOffset++];if(n&&0===i)return null;var o=e.wlObjects[i];if(o)return o;throw new Error("Unknown object id "+i)},t.n=function(r){return t._checkMessageSize(r,4),r.buffer[r.bufferOffset++]},t.s=function(r,n){t._checkMessageSize(r,4);var e=r.buffer[r.bufferOffset++];if(n&&0===e)return null;var i=e+3&-4;t._checkMessageSize(r,i);var o=new Uint8Array(r.buffer.buffer,r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,e-1);return r.bufferOffset+=i/4,String.fromCharCode.apply(String,o)},t.a=function(r,n){t._checkMessageSize(r,4);var e=r.buffer[r.bufferOffset++];if(n&&0===e)return null;var i=e+3&-4;t._checkMessageSize(r,i);var o=r.buffer.buffer.slice(r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT+e);return r.bufferOffset+=i,o},t.h=function(t){if(t.fds.length>0)return t.fds.shift();throw new Error("Not enough file descriptors in message object.")};var r=t.prototype;return r.addIdleHandler=function(t){this._idleHandlers=[].concat(this._idleHandlers,[t])},r.removeIdleHandler=function(t){this._idleHandlers=this._idleHandlers.filter((function(r){return r!==t}))},r.marshallMsg=function(t,r,n,e){var i={buffer:new ArrayBuffer(n),fds:[],bufferOffset:0},o=new Uint32Array(i.buffer),a=new Uint16Array(i.buffer);o[0]=t,a[2]=r,a[3]=n,i.bufferOffset=8,e.forEach((function(t){return t._marshallArg(i)})),this.onSend(i)},r._idle=function(){var t=l(a.a.mark((function t(){var r,n,e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=u(this._idleHandlers);case 1:if((n=r()).done){t.next=7;break}return e=n.value,t.next=5,e();case 5:t.next=1;break;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.message=function(){var t=l(a.a.mark((function t(r){var n,e,i,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.closed){t.next=2;break}return t.abrupt("return");case 2:if(!(this._inMessages.push(r)>1)){t.next=4;break}return t.abrupt("return");case 4:if(!this._inMessages.length){t.next=40;break}(n=this._inMessages[0]).bufferOffset=0,n.consumed=0,n.size=0;case 9:if(!(n.bufferOffset<n.buffer.length)){t.next=37;break}if(e=n.buffer[n.bufferOffset],i=n.buffer[n.bufferOffset+1],n.size=i>>>16,o=65535&i,!(n.size>n.buffer.byteLength)){t.next=16;break}throw new Error("Request buffer too small");case 16:if(!(s=this.wlObjects[e])){t.next=34;break}return n.bufferOffset+=2,n.consumed=8,t.prev=20,t.next=23,s[o](n);case 23:t.next=30;break;case 25:throw t.prev=25,t.t0=t.catch(20),console.error("\nwlObject: "+s.constructor.name+"["+o+"](..)\nname: "+t.t0.name+" message: "+t.t0.message+" text: "+t.t0.text+"\nerror object stack: \n"+t.t0.stack+"\n"),this.close(),t.t0;case 30:if(!this.closed){t.next=32;break}return t.abrupt("return");case 32:t.next=35;break;case 34:throw new Error("invalid object "+e);case 35:t.next=9;break;case 37:this._inMessages.shift(),t.next=4;break;case 40:return this.flush(),t.next=43,this._idle();case 43:case"end":return t.stop()}}),t,this,[[20,25]])})));return function(r){return t.apply(this,arguments)}}(),r.onSend=function(t){this.closed||this._outMessages.push(t)},r.flush=function(){this.closed||0!==this._outMessages.length&&(this.onFlush(this._outMessages),this._outMessages=[])},r.onFlush=function(t){},r.close=function(){this.closed||(Object.values(this.wlObjects).sort((function(t,r){return t.id-r.id})).forEach((function(t){return t.destroy()})),this._outMessages=null,this._inMessages=null,this.closed=!0)},r.registerWlObject=function(t){if(!this.closed){if(t.id in this.wlObjects)throw new Error("Illegal object id: "+t.id+". Already registered.");this.wlObjects[t.id]=t}},r.unregisterWlObject=function(t){this.closed||delete this.wlObjects[t.id]},t}();function p(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}var d=function(){function t(t,r,n,e,i){this.fd=t,this.type=r,this.url=n,this._onGetTransferable=e,this._onClose=i}var r=t.prototype;return r.getTransferable=function(){var t,r=(t=a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._onGetTransferable(this);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){p(o,e,i,a,s,"next",t)}function s(t){p(o,e,i,a,s,"throw",t)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),r.close=function(){this._onClose(this)},t}(),v=function(){function t(t){var r=this;this.id=t,this._destroyPromise=new Promise((function(t){return r._destroyResolver=t})),this._destroyListeners=[],this._destroyPromise.then((function(){return r._destroyListeners.forEach((function(t){return t(r)}))}))}var r=t.prototype;return r.destroy=function(){this._destroyResolver()},r.addDestroyListener=function(t){this._destroyListeners.push(t)},r.removeDestroyListener=function(t){this._destroyListeners=this._destroyListeners.filter((function(r){return r!==t}))},r.onDestroy=function(){return this._destroyPromise},t}(),y=function(){function t(t){this._fdDomainUUID=t,this._webFDs={},this._nextFD=0}t.create=function(r){return new t(r)};var r=t.prototype;return r.fromArrayBuffer=function(t){var r=this,n=this._nextFD++,e=new URL("client://");e.searchParams.append("fd",""+n),e.searchParams.append("type","ArrayBuffer"),e.searchParams.append("clientId",this._fdDomainUUID);var i=new d(n,"ArrayBuffer",e,(function(){return Promise.resolve(t)}),(function(){delete r._webFDs[n]}));return this._webFDs[n]=i,i},r.fromImageBitmap=function(t){var r=this,n=this._nextFD++,e=new URL("client://");e.searchParams.append("fd",""+n),e.searchParams.append("type","ImageBitmap"),e.searchParams.append("clientId",this._fdDomainUUID);var i=new d(n,"ImageBitmap",e,(function(){return Promise.resolve(t)}),(function(){delete r._webFDs[n]}));return this._webFDs[n]=i,i},r.fromOffscreenCanvas=function(t){var r=this,n=this._nextFD++,e="OffscreenCanvas",i=new URL("client://");i.searchParams.append("fd",""+n),i.searchParams.append("type",e),i.searchParams.append("clientId",this._fdDomainUUID);var o=new d(n,e,i,(function(){return Promise.resolve(t)}),(function(){delete r._webFDs[n]}));return this._webFDs[n]=o,o},r.getWebFD=function(t){return this._webFDs[t]},t}();var m=function(t){var r,n;function e(r,n,e){var i;return(i=t.call(this,e)||this).display=r,i._connection=n,n.registerWlObject(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i}n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.destroy=function(){t.prototype.destroy.call(this),this._connection.unregisterWlObject(this)},i._marshallConstructor=function(t,r,n,e){var i=new n(this.display,this._connection,this.display.generateNextId()),o=8;return e.forEach((function(t){"n"===t.type&&(t.value=i.id),o+=t.size})),this._connection.marshallMsg(t,r,o,e),i},i._marshall=function(t,r,n){var e=8;n.forEach((function(t){return e+=t.size})),this._connection.marshallMsg(t,r,e,n)},e}(v);function b(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h;var _=h.u,w=(h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;function e(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.prototype[0]=function(){var t,r=(t=a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.done(_(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){b(o,e,i,a,s,"next",t)}function s(t){b(o,e,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),e}(m));w.protocolName="wl_callback";var g=w;function O(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function x(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){O(o,e,i,a,s,"next",t)}function s(t){O(o,e,i,a,s,"throw",t)}a(void 0)}))}}var M=h.uint,j=(h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject),A=h.string,P=(h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u),k=(h.i,h.f,h.o,h.n,h.s),D=(h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.bind=function(t,r,n,e){return this._marshallConstructor(this.id,0,n,[M(t),A(r),M(e),j()])},e[0]=function(){var t=x(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.global(P(r),k(r,!1),P(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=x(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.globalRemove(P(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));D.protocolName="wl_registry";var S=D;function E(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function L(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){E(o,e,i,a,s,"next",t)}function s(t){E(o,e,i,a,s,"throw",t)}a(void 0)}))}}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional;var R=h.newObject,T=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u),z=(h.i,h.f,h.o),C=(h.n,h.s),I=(h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.sync=function(){return this._marshallConstructor(this.id,0,g,[R()])},e.getRegistry=function(){return this._marshallConstructor(this.id,1,S,[R()])},e[0]=function(){var t=L(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.error(z(r,!1,this._connection),T(r),C(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=L(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.deleteId(T(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));I.protocolName="wl_display",I.Error={invalidObject:0,invalidMethod:1,noMemory:2};var F=I,B=function(){function t(t){var r=this;this._recycledIds=[],this._connection=t,this._displayProxy=new F(this,this._connection,1),this._lastId=1,this._destroyResolve=null,this._destroyReject=null,this._destroyPromise=new Promise((function(t,n){r._destroyResolve=t,r._destroyReject=n})),this._displayProxy.listener={deleteId:function(t){r._recycledIds.push(t)},error:function(t,n,e){r._protocolError(t,n,e)}},this.errorHandler=null}var r=t.prototype;return r.close=function(){this._connection.closed||(this._connection.close(),this._destroyResolve())},r._protocolError=function(t,r,n){this._connection.closed||(this._connection.close(),this._destroyReject(new Error("Protocol error. type: "+t.constructor.name+", id: "+t.id+", code: "+r+", message: "+n)))},r.onClose=function(){return this._destroyPromise},r.getRegistry=function(){return this._displayProxy.getRegistry()},r.generateNextId=function(){return this._recycledIds.length?this._recycledIds.shift():++this._lastId},r.sync=function(){var t=this;return new Promise((function(r){var n=t._displayProxy.sync();n.listener={done:function(t){r(t),n.destroy()}}}))},r.flush=function(){this._connection.flush()},t}();function U(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function N(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){U(o,e,i,a,s,"next",t)}function s(t){U(o,e,i,a,s,"throw",t)}a(void 0)}))}}var G=h.uint,q=(h.uintOptional,h.int),V=(h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional),Y=h.newObject,H=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o),W=(h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.attach=function(t,r,n){this._marshall(this.id,1,[V(t),q(r),q(n)])},e.damage=function(t,r,n,e){this._marshall(this.id,2,[q(t),q(r),q(n),q(e)])},e.frame=function(){return this._marshallConstructor(this.id,3,g,[Y()])},e.setOpaqueRegion=function(t){this._marshall(this.id,4,[V(t)])},e.setInputRegion=function(t){this._marshall(this.id,5,[V(t)])},e.commit=function(t){this._marshall(this.id,6,[G(t)])},e.setBufferTransform=function(t){this._marshall(this.id,7,[q(t)])},e.setBufferScale=function(t){this._marshall(this.id,8,[q(t)])},e.damageBuffer=function(t,r,n,e){this._marshall(this.id,9,[q(t),q(r),q(n),q(e)])},e[0]=function(){var t=N(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(H(r,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=N(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(H(r,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));W.protocolName="wl_surface",W.Error={invalidScale:0,invalidTransform:1};var X=W;h.uint,h.uintOptional;var K=h.int,Q=(h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.add=function(t,r,n,e){this._marshall(this.id,1,[K(t),K(r),K(n),K(e)])},e.subtract=function(t,r,n,e){this._marshall(this.id,2,[K(t),K(r),K(n),K(e)])},i}(m));Q.protocolName="wl_region";var Z=Q;h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional;var $=h.newObject,J=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.createSurface=function(){return this._marshallConstructor(this.id,0,X,[$()])},e.createRegion=function(){return this._marshallConstructor(this.id,1,Z,[$()])},i}(m));J.protocolName="wl_compositor";var tt=J;function rt(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a;var nt=function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e[0]=function(){var t,r=(t=a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.release();case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){rt(o,e,i,a,s,"next",t)}function s(t){rt(o,e,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),i}(m);nt.protocolName="wl_buffer";var et=nt;function it(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function ot(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){it(o,e,i,a,s,"next",t)}function s(t){it(o,e,i,a,s,"throw",t)}a(void 0)}))}}var at=h.uint,st=(h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string),ut=h.stringOptional,ct=(h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor),ft=(h.h,h.u),lt=(h.i,h.f,h.o,h.n,h.s),ht=(h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.accept=function(t,r){this._marshall(this.id,0,[at(t),ut(r)])},e.receive=function(t,r){this._marshall(this.id,1,[st(t),ct(r)])},e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,2,[])},e.finish=function(){this._marshall(this.id,3,[])},e.setActions=function(t,r){this._marshall(this.id,4,[at(t),at(r)])},e[0]=function(){var t=ot(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.offer(lt(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=ot(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.sourceActions(ft(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[2]=function(){var t=ot(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.action(ft(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));ht.protocolName="wl_data_offer",ht.Error={invalidFinish:0,invalidActionMask:1,invalidAction:2,invalidOffer:3};var pt=ht;function dt(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function vt(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){dt(o,e,i,a,s,"next",t)}function s(t){dt(o,e,i,a,s,"throw",t)}a(void 0)}))}}var yt=h.uint,mt=(h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string),bt=(h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h),_t=h.u,wt=(h.i,h.f,h.o,h.n,h.s),gt=(h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.offer=function(t){this._marshall(this.id,0,[mt(t)])},e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,1,[])},e.setActions=function(t){this._marshall(this.id,2,[yt(t)])},e[0]=function(){var t=vt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.target(wt(r,!0));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=vt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.send(wt(r,!1),bt(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[2]=function(){var t=vt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.cancelled();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[3]=function(){var t=vt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dndDropPerformed();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[4]=function(){var t=vt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dndFinished();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[5]=function(){var t=vt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.action(_t(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));gt.protocolName="wl_data_source",gt.Error={invalidActionMask:0,invalidSource:1};var Ot=gt;function xt(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function Mt(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){xt(o,e,i,a,s,"next",t)}function s(t){xt(o,e,i,a,s,"throw",t)}a(void 0)}))}}var jt=h.uint,At=(h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object),Pt=h.objectOptional,kt=(h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u),Dt=(h.i,h.f),St=h.o,Et=h.n,Lt=(h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.startDrag=function(t,r,n,e){this._marshall(this.id,0,[Pt(t),At(r),Pt(n),jt(e)])},e.setSelection=function(t,r){this._marshall(this.id,1,[Pt(t),jt(r)])},e.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,2,[])},e[0]=function(){var t=Mt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dataOffer(new pt(this._connection,Et(r)));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=Mt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(kt(r),St(r,!1,this._connection),Dt(r),Dt(r),St(r,!0,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[2]=function(){var t=Mt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[3]=function(){var t=Mt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(kt(r),Dt(r),Dt(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[4]=function(){var t=Mt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.drop();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[5]=function(){var t=Mt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.selection(St(r,!0,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));Lt.protocolName="wl_data_device",Lt.Error={role:0};var Rt=Lt;h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional;var Tt=h.object,zt=(h.objectOptional,h.newObject),Ct=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.createDataSource=function(){return this._marshallConstructor(this.id,0,Ot,[zt()])},e.getDataDevice=function(t){return this._marshallConstructor(this.id,1,Rt,[zt(),Tt(t)])},i}(m));Ct.protocolName="wl_data_device_manager",Ct.DndAction={none:0,copy:1,move:2,ask:4};function It(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function Ft(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){It(o,e,i,a,s,"next",t)}function s(t){It(o,e,i,a,s,"throw",t)}a(void 0)}))}}var Bt=h.uint,Ut=(h.uintOptional,h.int),Nt=(h.intOptional,h.fixed,h.fixedOptional,h.object),Gt=h.objectOptional,qt=(h.newObject,h.string),Vt=(h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u),Yt=h.i,Ht=(h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.pong=function(t){this._marshall(this.id,0,[Bt(t)])},e.move=function(t,r){this._marshall(this.id,1,[Nt(t),Bt(r)])},e.resize=function(t,r,n){this._marshall(this.id,2,[Nt(t),Bt(r),Bt(n)])},e.setToplevel=function(){this._marshall(this.id,3,[])},e.setTransient=function(t,r,n,e){this._marshall(this.id,4,[Nt(t),Ut(r),Ut(n),Bt(e)])},e.setFullscreen=function(t,r,n){this._marshall(this.id,5,[Bt(t),Bt(r),Gt(n)])},e.setPopup=function(t,r,n,e,i,o){this._marshall(this.id,6,[Nt(t),Bt(r),Nt(n),Ut(e),Ut(i),Bt(o)])},e.setMaximized=function(t){this._marshall(this.id,7,[Gt(t)])},e.setTitle=function(t){this._marshall(this.id,8,[qt(t)])},e.setClass=function(t){this._marshall(this.id,9,[qt(t)])},e[0]=function(){var t=Ft(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.ping(Vt(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=Ft(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(Vt(r),Yt(r),Yt(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[2]=function(){var t=Ft(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.popupDone();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));Ht.protocolName="wl_shell_surface",Ht.Resize={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},Ht.Transient={inactive:1},Ht.FullscreenMethod={default:0,scale:1,driver:2,fill:3};var Wt=Ht;h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional;var Xt=h.object,Kt=(h.objectOptional,h.newObject),Qt=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;function e(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.prototype.getShellSurface=function(t){return this._marshallConstructor(this.id,0,Wt,[Kt(),Xt(t)])},e}(m));Qt.protocolName="wl_shell",Qt.Error={role:0};var Zt=Qt;function $t(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function Jt(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){$t(o,e,i,a,s,"next",t)}function s(t){$t(o,e,i,a,s,"throw",t)}a(void 0)}))}}var tr=h.uint,rr=(h.uintOptional,h.int),nr=(h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional),er=(h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u),ir=h.i,or=h.f,ar=h.o,sr=(h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.setCursor=function(t,r,n,e){this._marshall(this.id,0,[tr(t),nr(r),rr(n),rr(e)])},e.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,1,[])},e[0]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(er(r),ar(r,!1,this._connection),or(r),or(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(er(r),ar(r,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[2]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(er(r),or(r),or(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[3]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.button(er(r),er(r),er(r),er(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[4]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axis(er(r),er(r),or(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[5]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.frame();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[6]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisSource(er(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[7]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisStop(er(r),er(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[8]=function(){var t=Jt(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisDiscrete(er(r),ir(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));sr.protocolName="wl_pointer",sr.Error={role:0},sr.ButtonState={released:0,pressed:1},sr.Axis={verticalScroll:0,horizontalScroll:1},sr.AxisSource={wheel:0,finger:1,continuous:2,wheelTilt:3};var ur=sr;function cr(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function fr(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){cr(o,e,i,a,s,"next",t)}function s(t){cr(o,e,i,a,s,"throw",t)}a(void 0)}))}}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor;var lr=h.h,hr=h.u,pr=h.i,dr=(h.f,h.o),vr=(h.n,h.s,h.a),yr=function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e[0]=function(){var t=fr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.keymap(hr(r),lr(r),hr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=fr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(hr(r),dr(r,!1,this._connection),vr(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[2]=function(){var t=fr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(hr(r),dr(r,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[3]=function(){var t=fr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.key(hr(r),hr(r),hr(r),hr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[4]=function(){var t=fr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.modifiers(hr(r),hr(r),hr(r),hr(r),hr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[5]=function(){var t=fr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.repeatInfo(pr(r),pr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m);yr.protocolName="wl_keyboard",yr.KeymapFormat={noKeymap:0,xkbV1:1},yr.KeyState={released:0,pressed:1};var mr=yr;function br(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function _r(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){br(o,e,i,a,s,"next",t)}function s(t){br(o,e,i,a,s,"throw",t)}a(void 0)}))}}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h;var wr=h.u,gr=h.i,Or=h.f,xr=h.o,Mr=(h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e[0]=function(){var t=_r(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.down(wr(r),wr(r),xr(r,!1,this._connection),gr(r),Or(r),Or(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=_r(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.up(wr(r),wr(r),gr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[2]=function(){var t=_r(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(wr(r),gr(r),Or(r),Or(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[3]=function(){var t=_r(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.frame();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[4]=function(){var t=_r(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.cancel();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[5]=function(){var t=_r(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.shape(gr(r),Or(r),Or(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[6]=function(){var t=_r(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.orientation(gr(r),Or(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));Mr.protocolName="wl_touch";var jr=Mr;function Ar(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function Pr(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){Ar(o,e,i,a,s,"next",t)}function s(t){Ar(o,e,i,a,s,"throw",t)}a(void 0)}))}}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional;var kr=h.newObject,Dr=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u),Sr=(h.i,h.f,h.o,h.n,h.s),Er=(h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.getPointer=function(){return this._marshallConstructor(this.id,0,ur,[kr()])},e.getKeyboard=function(){return this._marshallConstructor(this.id,1,mr,[kr()])},e.getTouch=function(){return this._marshallConstructor(this.id,2,jr,[kr()])},e.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,3,[])},e[0]=function(){var t=Pr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.capabilities(Dr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=Pr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.name(Sr(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));Er.protocolName="wl_seat",Er.Capability={pointer:1,keyboard:2,touch:4};var Lr=Er;function Rr(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function Tr(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){Rr(o,e,i,a,s,"next",t)}function s(t){Rr(o,e,i,a,s,"throw",t)}a(void 0)}))}}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h;var zr=h.u,Cr=h.i,Ir=(h.f,h.o,h.n,h.s),Fr=(h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e[0]=function(){var t=Tr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.geometry(Cr(r),Cr(r),Cr(r),Cr(r),Cr(r),Ir(r,!1),Ir(r,!1),Cr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=Tr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.mode(zr(r),Cr(r),Cr(r),Cr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[2]=function(){var t=Tr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.done();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[3]=function(){var t=Tr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.scale(Cr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));Fr.protocolName="wl_output",Fr.Subpixel={unknown:0,none:1,horizontalRgb:2,horizontalBgr:3,verticalRgb:4,verticalBgr:5},Fr.Transform={normal:0,90:1,180:2,270:3,flipped:4,flipped90:5,flipped180:6,flipped270:7},Fr.Mode={current:1,preferred:2};h.uint,h.uintOptional;var Br=h.int,Ur=(h.intOptional,h.fixed,h.fixedOptional,h.object),Nr=(h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.setPosition=function(t,r){this._marshall(this.id,1,[Br(t),Br(r)])},e.placeAbove=function(t){this._marshall(this.id,2,[Ur(t)])},e.placeBelow=function(t){this._marshall(this.id,3,[Ur(t)])},e.setSync=function(){this._marshall(this.id,4,[])},e.setDesync=function(){this._marshall(this.id,5,[])},i}(m));Nr.protocolName="wl_subsurface",Nr.Error={badSurface:0};var Gr=Nr;h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional;var qr=h.object,Vr=(h.objectOptional,h.newObject),Yr=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.getSubsurface=function(t,r){return this._marshallConstructor(this.id,1,Gr,[Vr(),qr(t),qr(r)])},i}(m));Yr.protocolName="wl_subcompositor",Yr.Error={badSurface:0};var Hr=h.uint,Wr=(h.uintOptional,h.int),Xr=(h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.setSize=function(t,r){this._marshall(this.id,1,[Wr(t),Wr(r)])},e.setAnchorRect=function(t,r,n,e){this._marshall(this.id,2,[Wr(t),Wr(r),Wr(n),Wr(e)])},e.setAnchor=function(t){this._marshall(this.id,3,[Hr(t)])},e.setGravity=function(t){this._marshall(this.id,4,[Hr(t)])},e.setConstraintAdjustment=function(t){this._marshall(this.id,5,[Hr(t)])},e.setOffset=function(t,r){this._marshall(this.id,6,[Wr(t),Wr(r)])},i}(m));Xr.protocolName="xdg_positioner",Xr.Error={invalidInput:0},Xr.Anchor={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},Xr.Gravity={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},Xr.ConstraintAdjustment={none:0,slideX:1,slideY:2,flipX:4,flipY:8,resizeX:16,resizeY:32};var Kr=Xr;function Qr(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function Zr(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){Qr(o,e,i,a,s,"next",t)}function s(t){Qr(o,e,i,a,s,"throw",t)}a(void 0)}))}}var $r=h.uint,Jr=(h.uintOptional,h.int),tn=(h.intOptional,h.fixed,h.fixedOptional,h.object),rn=h.objectOptional,nn=(h.newObject,h.string),en=(h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i),on=(h.f,h.o,h.n,h.s,h.a),an=function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.setParent=function(t){this._marshall(this.id,1,[rn(t)])},e.setTitle=function(t){this._marshall(this.id,2,[nn(t)])},e.setAppId=function(t){this._marshall(this.id,3,[nn(t)])},e.showWindowMenu=function(t,r,n,e){this._marshall(this.id,4,[tn(t),$r(r),Jr(n),Jr(e)])},e.move=function(t,r){this._marshall(this.id,5,[tn(t),$r(r)])},e.resize=function(t,r,n){this._marshall(this.id,6,[tn(t),$r(r),$r(n)])},e.setMaxSize=function(t,r){this._marshall(this.id,7,[Jr(t),Jr(r)])},e.setMinSize=function(t,r){this._marshall(this.id,8,[Jr(t),Jr(r)])},e.setMaximized=function(){this._marshall(this.id,9,[])},e.unsetMaximized=function(){this._marshall(this.id,10,[])},e.setFullscreen=function(t){this._marshall(this.id,11,[rn(t)])},e.unsetFullscreen=function(){this._marshall(this.id,12,[])},e.setMinimized=function(){this._marshall(this.id,13,[])},e[0]=function(){var t=Zr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(en(r),en(r),on(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=Zr(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.close();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m);an.protocolName="xdg_toplevel",an.ResizeEdge={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},an.State={maximized:1,fullscreen:2,resizing:3,activated:4};var sn=an;function un(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}function cn(t){return function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){un(o,e,i,a,s,"next",t)}function s(t){un(o,e,i,a,s,"throw",t)}a(void 0)}))}}var fn=h.uint,ln=(h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object),hn=(h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i),pn=(h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.grab=function(t,r){this._marshall(this.id,1,[ln(t),fn(r)])},e[0]=function(){var t=cn(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(hn(r),hn(r),hn(r),hn(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),e[1]=function(){var t=cn(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.popupDone();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),i}(m));pn.protocolName="xdg_popup",pn.Error={invalidGrab:0};var dn=pn;function vn(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}var yn=h.uint,mn=(h.uintOptional,h.int),bn=(h.intOptional,h.fixed,h.fixedOptional,h.object),_n=h.objectOptional,wn=h.newObject,gn=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u),On=(h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.getToplevel=function(){return this._marshallConstructor(this.id,1,sn,[wn()])},e.getPopup=function(t,r){return this._marshallConstructor(this.id,2,dn,[wn(),_n(t),bn(r)])},e.setWindowGeometry=function(t,r,n,e){this._marshall(this.id,3,[mn(t),mn(r),mn(n),mn(e)])},e.ackConfigure=function(t){this._marshall(this.id,4,[yn(t)])},e[0]=function(){var t,r=(t=a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(gn(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){vn(o,e,i,a,s,"next",t)}function s(t){vn(o,e,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),i}(m));On.protocolName="xdg_surface",On.Error={notConstructed:1,alreadyConstructed:2,unconfiguredBuffer:3};var xn=On;function Mn(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}var jn=h.uint,An=(h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object),Pn=(h.objectOptional,h.newObject),kn=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u),Dn=(h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},e.createPositioner=function(){return this._marshallConstructor(this.id,1,Kr,[Pn()])},e.getXdgSurface=function(t){return this._marshallConstructor(this.id,2,xn,[Pn(),An(t)])},e.pong=function(t){this._marshall(this.id,3,[jn(t)])},e[0]=function(){var t,r=(t=a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.ping(kn(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){Mn(o,e,i,a,s,"next",t)}function s(t){Mn(o,e,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),i}(m));Dn.protocolName="xdg_wm_base",Dn.Error={role:0,defunctSurfaces:1,notTheTopmostPopup:2,invalidPopupParent:3,invalidSurfaceState:4,invalidPositioner:5};function Sn(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional;var En=h.fileDescriptor,Ln=h.h,Rn=(h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.attach=function(t){this._marshall(this.id,0,[En(t)])},e[0]=function(){var t,r=(t=a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.detach(Ln(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){Sn(o,e,i,a,s,"next",t)}function s(t){Sn(o,e,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),i}(m));Rn.protocolName="gr_web_shm_buffer";var Tn=Rn;h.uint,h.uintOptional;var zn=h.int,Cn=(h.intOptional,h.fixed,h.fixedOptional,h.object),In=(h.objectOptional,h.newObject),Fn=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.createWebArrayBuffer=function(){return this._marshallConstructor(this.id,0,Tn,[In()])},e.createBuffer=function(t,r,n){return this._marshallConstructor(this.id,1,et,[In(),Cn(t),zn(r),zn(n)])},i}(m));Fn.protocolName="gr_web_shm";function Bn(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional,h.object,h.objectOptional,h.newObject,h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor;var Un=h.h,Nn=(h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;function e(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.prototype[0]=function(){var t,r=(t=a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.offscreenCanvas(Un(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){Bn(o,e,i,a,s,"next",t)}function s(t){Bn(o,e,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),e}(m));Nn.protocolName="gr_web_gl_buffer";var Gn=Nn;h.uint,h.uintOptional,h.int,h.intOptional,h.fixed,h.fixedOptional;var qn=h.object,Vn=(h.objectOptional,h.newObject),Yn=(h.string,h.stringOptional,h.array,h.arrayOptional,h.fileDescriptorOptional,h.fileDescriptor,h.h,h.u,h.i,h.f,h.o,h.n,h.s,h.a,function(t){var r,n;n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var e=i.prototype;function i(r,n,e){var i;return(i=t.call(this,r,n,e)||this).listener=null,i}return e.createWebGlBuffer=function(){return this._marshallConstructor(this.id,0,Gn,[Vn()])},e.createBuffer=function(t){return this._marshallConstructor(this.id,1,et,[Vn(),qn(t)])},i}(m));Yn.protocolName="gr_web_gl";var Hn=Yn;function Wn(t){var r=0;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,r){if(!t)return;if("string"==typeof t)return Xn(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(t,r)}(t)))return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function Xn(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function Kn(t,r,n,e,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,i)}var Qn,Zn,$n,Jn,te=y.create(([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^self.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))),re=new h,ne=new B(re);Qn=ne,Zn=re,$n=te,Jn=[],onmessage=function(t){if(!Zn.closed){var r=t.data;if(r.protocolMessage instanceof ArrayBuffer){var n=new Uint32Array(r.protocolMessage),e=r.meta.map((function(t){return t instanceof ArrayBuffer?$n.fromArrayBuffer(t):t instanceof ImageBitmap?$n.fromImageBitmap(t):t instanceof OffscreenCanvas?$n.fromOffscreenCanvas(t):(console.warn("COMPOSITOR BUG? Unsupported transferable received from compositor: "+t+". WebFD will be null."),null)}));try{Zn.message({buffer:n,fds:e})}catch(t){Qn.errorHandler&&"function"==typeof Qn.errorHandler?Qn.errorHandler(t):(console.error("\tname: "+t.name+" message: "+t.message+" text: "+t.text),console.error("error object stack: "),console.error(t.stack))}}else console.error("[web-worker-client] server send an illegal message."),Zn.close()}},Zn.onFlush=function(){var t,r=(t=a.a.mark((function t(r){var n,e,i,o,s,u,c,f,l,h,p,d,v;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Jn.push(r),!(Jn.length>1)){t.next=3;break}return t.abrupt("return");case 3:if(!Jn.length){t.next=30;break}n=Jn[0],e=n.reduce((function(t,r){return t+r.buffer.byteLength}),0),i=new Uint32Array(new ArrayBuffer(e)),o=0,s=[],u=Wn(n);case 10:if((c=u()).done){t.next=26;break}f=c.value,l=Wn(f.fds);case 13:if((h=l()).done){t.next=21;break}return p=h.value,t.next=17,p.getTransferable();case 17:d=t.sent,s.push(d);case 19:t.next=13;break;case 21:v=new Uint32Array(f.buffer),i.set(v,o),o+=v.length;case 24:t.next=10;break;case 26:postMessage({protocolMessage:i.buffer,meta:s},[i.buffer].concat(s)),Jn.shift(),t.next=3;break;case 30:case"end":return t.stop()}}),t)})),function(){var r=this,n=arguments;return new Promise((function(e,i){var o=t.apply(r,n);function a(t){Kn(o,e,i,a,s,"next",t)}function s(t){Kn(o,e,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}();var ee=1e-6,ie="undefined"!=typeof Float32Array?Float32Array:Array,oe=Math.random;Math.PI;function ae(){var t=new ie(16);return ie!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function se(t){var r=new ie(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function ue(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function ce(t,r,n,e,i,o,a,s,u,c,f,l,h,p,d,v){var y=new ie(16);return y[0]=t,y[1]=r,y[2]=n,y[3]=e,y[4]=i,y[5]=o,y[6]=a,y[7]=s,y[8]=u,y[9]=c,y[10]=f,y[11]=l,y[12]=h,y[13]=p,y[14]=d,y[15]=v,y}function fe(t,r,n,e,i,o,a,s,u,c,f,l,h,p,d,v,y){return t[0]=r,t[1]=n,t[2]=e,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=p,t[13]=d,t[14]=v,t[15]=y,t}function le(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function he(t,r){if(t===r){var n=r[1],e=r[2],i=r[3],o=r[6],a=r[7],s=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=e,t[9]=o,t[11]=r[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}function pe(t,r){var n=r[0],e=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],c=r[7],f=r[8],l=r[9],h=r[10],p=r[11],d=r[12],v=r[13],y=r[14],m=r[15],b=n*s-e*a,_=n*u-i*a,w=n*c-o*a,g=e*u-i*s,O=e*c-o*s,x=i*c-o*u,M=f*v-l*d,j=f*y-h*d,A=f*m-p*d,P=l*y-h*v,k=l*m-p*v,D=h*m-p*y,S=b*D-_*k+w*P+g*A-O*j+x*M;return S?(S=1/S,t[0]=(s*D-u*k+c*P)*S,t[1]=(i*k-e*D-o*P)*S,t[2]=(v*x-y*O+m*g)*S,t[3]=(h*O-l*x-p*g)*S,t[4]=(u*A-a*D-c*j)*S,t[5]=(n*D-i*A+o*j)*S,t[6]=(y*w-d*x-m*_)*S,t[7]=(f*x-h*w+p*_)*S,t[8]=(a*k-s*A+c*M)*S,t[9]=(e*A-n*k-o*M)*S,t[10]=(d*O-v*w+m*b)*S,t[11]=(l*w-f*O-p*b)*S,t[12]=(s*j-a*P-u*M)*S,t[13]=(n*P-e*j+i*M)*S,t[14]=(v*_-d*g-y*b)*S,t[15]=(f*g-l*_+h*b)*S,t):null}function de(t,r){var n=r[0],e=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],c=r[7],f=r[8],l=r[9],h=r[10],p=r[11],d=r[12],v=r[13],y=r[14],m=r[15];return t[0]=s*(h*m-p*y)-l*(u*m-c*y)+v*(u*p-c*h),t[1]=-(e*(h*m-p*y)-l*(i*m-o*y)+v*(i*p-o*h)),t[2]=e*(u*m-c*y)-s*(i*m-o*y)+v*(i*c-o*u),t[3]=-(e*(u*p-c*h)-s*(i*p-o*h)+l*(i*c-o*u)),t[4]=-(a*(h*m-p*y)-f*(u*m-c*y)+d*(u*p-c*h)),t[5]=n*(h*m-p*y)-f*(i*m-o*y)+d*(i*p-o*h),t[6]=-(n*(u*m-c*y)-a*(i*m-o*y)+d*(i*c-o*u)),t[7]=n*(u*p-c*h)-a*(i*p-o*h)+f*(i*c-o*u),t[8]=a*(l*m-p*v)-f*(s*m-c*v)+d*(s*p-c*l),t[9]=-(n*(l*m-p*v)-f*(e*m-o*v)+d*(e*p-o*l)),t[10]=n*(s*m-c*v)-a*(e*m-o*v)+d*(e*c-o*s),t[11]=-(n*(s*p-c*l)-a*(e*p-o*l)+f*(e*c-o*s)),t[12]=-(a*(l*y-h*v)-f*(s*y-u*v)+d*(s*h-u*l)),t[13]=n*(l*y-h*v)-f*(e*y-i*v)+d*(e*h-i*l),t[14]=-(n*(s*y-u*v)-a*(e*y-i*v)+d*(e*u-i*s)),t[15]=n*(s*h-u*l)-a*(e*h-i*l)+f*(e*u-i*s),t}function ve(t){var r=t[0],n=t[1],e=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],f=t[9],l=t[10],h=t[11],p=t[12],d=t[13],v=t[14],y=t[15];return(r*a-n*o)*(l*y-h*v)-(r*s-e*o)*(f*y-h*d)+(r*u-i*o)*(f*v-l*d)+(n*s-e*a)*(c*y-h*p)-(n*u-i*a)*(c*v-l*p)+(e*u-i*s)*(c*d-f*p)}function ye(t,r,n){var e=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],f=r[7],l=r[8],h=r[9],p=r[10],d=r[11],v=r[12],y=r[13],m=r[14],b=r[15],_=n[0],w=n[1],g=n[2],O=n[3];return t[0]=_*e+w*s+g*l+O*v,t[1]=_*i+w*u+g*h+O*y,t[2]=_*o+w*c+g*p+O*m,t[3]=_*a+w*f+g*d+O*b,_=n[4],w=n[5],g=n[6],O=n[7],t[4]=_*e+w*s+g*l+O*v,t[5]=_*i+w*u+g*h+O*y,t[6]=_*o+w*c+g*p+O*m,t[7]=_*a+w*f+g*d+O*b,_=n[8],w=n[9],g=n[10],O=n[11],t[8]=_*e+w*s+g*l+O*v,t[9]=_*i+w*u+g*h+O*y,t[10]=_*o+w*c+g*p+O*m,t[11]=_*a+w*f+g*d+O*b,_=n[12],w=n[13],g=n[14],O=n[15],t[12]=_*e+w*s+g*l+O*v,t[13]=_*i+w*u+g*h+O*y,t[14]=_*o+w*c+g*p+O*m,t[15]=_*a+w*f+g*d+O*b,t}function me(t,r,n){var e,i,o,a,s,u,c,f,l,h,p,d,v=n[0],y=n[1],m=n[2];return r===t?(t[12]=r[0]*v+r[4]*y+r[8]*m+r[12],t[13]=r[1]*v+r[5]*y+r[9]*m+r[13],t[14]=r[2]*v+r[6]*y+r[10]*m+r[14],t[15]=r[3]*v+r[7]*y+r[11]*m+r[15]):(e=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],f=r[7],l=r[8],h=r[9],p=r[10],d=r[11],t[0]=e,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=p,t[11]=d,t[12]=e*v+s*y+l*m+r[12],t[13]=i*v+u*y+h*m+r[13],t[14]=o*v+c*y+p*m+r[14],t[15]=a*v+f*y+d*m+r[15]),t}function be(t,r,n){var e=n[0],i=n[1],o=n[2];return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function _e(t,r,n,e){var i,o,a,s,u,c,f,l,h,p,d,v,y,m,b,_,w,g,O,x,M,j,A,P,k=e[0],D=e[1],S=e[2],E=Math.hypot(k,D,S);return E<ee?null:(k*=E=1/E,D*=E,S*=E,i=Math.sin(n),a=1-(o=Math.cos(n)),s=r[0],u=r[1],c=r[2],f=r[3],l=r[4],h=r[5],p=r[6],d=r[7],v=r[8],y=r[9],m=r[10],b=r[11],_=k*k*a+o,w=D*k*a+S*i,g=S*k*a-D*i,O=k*D*a-S*i,x=D*D*a+o,M=S*D*a+k*i,j=k*S*a+D*i,A=D*S*a-k*i,P=S*S*a+o,t[0]=s*_+l*w+v*g,t[1]=u*_+h*w+y*g,t[2]=c*_+p*w+m*g,t[3]=f*_+d*w+b*g,t[4]=s*O+l*x+v*M,t[5]=u*O+h*x+y*M,t[6]=c*O+p*x+m*M,t[7]=f*O+d*x+b*M,t[8]=s*j+l*A+v*P,t[9]=u*j+h*A+y*P,t[10]=c*j+p*A+m*P,t[11]=f*j+d*A+b*P,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}function we(t,r,n){var e=Math.sin(n),i=Math.cos(n),o=r[4],a=r[5],s=r[6],u=r[7],c=r[8],f=r[9],l=r[10],h=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*i+c*e,t[5]=a*i+f*e,t[6]=s*i+l*e,t[7]=u*i+h*e,t[8]=c*i-o*e,t[9]=f*i-a*e,t[10]=l*i-s*e,t[11]=h*i-u*e,t}function ge(t,r,n){var e=Math.sin(n),i=Math.cos(n),o=r[0],a=r[1],s=r[2],u=r[3],c=r[8],f=r[9],l=r[10],h=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*i-c*e,t[1]=a*i-f*e,t[2]=s*i-l*e,t[3]=u*i-h*e,t[8]=o*e+c*i,t[9]=a*e+f*i,t[10]=s*e+l*i,t[11]=u*e+h*i,t}function Oe(t,r,n){var e=Math.sin(n),i=Math.cos(n),o=r[0],a=r[1],s=r[2],u=r[3],c=r[4],f=r[5],l=r[6],h=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*i+c*e,t[1]=a*i+f*e,t[2]=s*i+l*e,t[3]=u*i+h*e,t[4]=c*i-o*e,t[5]=f*i-a*e,t[6]=l*i-s*e,t[7]=h*i-u*e,t}function xe(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function Me(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function je(t,r,n){var e,i,o,a=n[0],s=n[1],u=n[2],c=Math.hypot(a,s,u);return c<ee?null:(a*=c=1/c,s*=c,u*=c,e=Math.sin(r),o=1-(i=Math.cos(r)),t[0]=a*a*o+i,t[1]=s*a*o+u*e,t[2]=u*a*o-s*e,t[3]=0,t[4]=a*s*o-u*e,t[5]=s*s*o+i,t[6]=u*s*o+a*e,t[7]=0,t[8]=a*u*o+s*e,t[9]=s*u*o-a*e,t[10]=u*u*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Ae(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Pe(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ke(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function De(t,r,n){var e=r[0],i=r[1],o=r[2],a=r[3],s=e+e,u=i+i,c=o+o,f=e*s,l=e*u,h=e*c,p=i*u,d=i*c,v=o*c,y=a*s,m=a*u,b=a*c;return t[0]=1-(p+v),t[1]=l+b,t[2]=h-m,t[3]=0,t[4]=l-b,t[5]=1-(f+v),t[6]=d+y,t[7]=0,t[8]=h+m,t[9]=d-y,t[10]=1-(f+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Se(t,r){var n=new ie(3),e=-r[0],i=-r[1],o=-r[2],a=r[3],s=r[4],u=r[5],c=r[6],f=r[7],l=e*e+i*i+o*o+a*a;return l>0?(n[0]=2*(s*a+f*e+u*o-c*i)/l,n[1]=2*(u*a+f*i+c*e-s*o)/l,n[2]=2*(c*a+f*o+s*i-u*e)/l):(n[0]=2*(s*a+f*e+u*o-c*i),n[1]=2*(u*a+f*i+c*e-s*o),n[2]=2*(c*a+f*o+s*i-u*e)),De(t,r,n),t}function Ee(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function Le(t,r){var n=r[0],e=r[1],i=r[2],o=r[4],a=r[5],s=r[6],u=r[8],c=r[9],f=r[10];return t[0]=Math.hypot(n,e,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(u,c,f),t}function Re(t,r){var n=new ie(3);Le(n,r);var e=1/n[0],i=1/n[1],o=1/n[2],a=r[0]*e,s=r[1]*i,u=r[2]*o,c=r[4]*e,f=r[5]*i,l=r[6]*o,h=r[8]*e,p=r[9]*i,d=r[10]*o,v=a+f+d,y=0;return v>0?(y=2*Math.sqrt(v+1),t[3]=.25*y,t[0]=(l-p)/y,t[1]=(h-u)/y,t[2]=(s-c)/y):a>f&&a>d?(y=2*Math.sqrt(1+a-f-d),t[3]=(l-p)/y,t[0]=.25*y,t[1]=(s+c)/y,t[2]=(h+u)/y):f>d?(y=2*Math.sqrt(1+f-a-d),t[3]=(h-u)/y,t[0]=(s+c)/y,t[1]=.25*y,t[2]=(l+p)/y):(y=2*Math.sqrt(1+d-a-f),t[3]=(s-c)/y,t[0]=(h+u)/y,t[1]=(l+p)/y,t[2]=.25*y),t}function Te(t,r,n,e){var i=r[0],o=r[1],a=r[2],s=r[3],u=i+i,c=o+o,f=a+a,l=i*u,h=i*c,p=i*f,d=o*c,v=o*f,y=a*f,m=s*u,b=s*c,_=s*f,w=e[0],g=e[1],O=e[2];return t[0]=(1-(d+y))*w,t[1]=(h+_)*w,t[2]=(p-b)*w,t[3]=0,t[4]=(h-_)*g,t[5]=(1-(l+y))*g,t[6]=(v+m)*g,t[7]=0,t[8]=(p+b)*O,t[9]=(v-m)*O,t[10]=(1-(l+d))*O,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ze(t,r,n,e,i){var o=r[0],a=r[1],s=r[2],u=r[3],c=o+o,f=a+a,l=s+s,h=o*c,p=o*f,d=o*l,v=a*f,y=a*l,m=s*l,b=u*c,_=u*f,w=u*l,g=e[0],O=e[1],x=e[2],M=i[0],j=i[1],A=i[2],P=(1-(v+m))*g,k=(p+w)*g,D=(d-_)*g,S=(p-w)*O,E=(1-(h+m))*O,L=(y+b)*O,R=(d+_)*x,T=(y-b)*x,z=(1-(h+v))*x;return t[0]=P,t[1]=k,t[2]=D,t[3]=0,t[4]=S,t[5]=E,t[6]=L,t[7]=0,t[8]=R,t[9]=T,t[10]=z,t[11]=0,t[12]=n[0]+M-(P*M+S*j+R*A),t[13]=n[1]+j-(k*M+E*j+T*A),t[14]=n[2]+A-(D*M+L*j+z*A),t[15]=1,t}function Ce(t,r){var n=r[0],e=r[1],i=r[2],o=r[3],a=n+n,s=e+e,u=i+i,c=n*a,f=e*a,l=e*s,h=i*a,p=i*s,d=i*u,v=o*a,y=o*s,m=o*u;return t[0]=1-l-d,t[1]=f+m,t[2]=h-y,t[3]=0,t[4]=f-m,t[5]=1-c-d,t[6]=p+v,t[7]=0,t[8]=h+y,t[9]=p-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ie(t,r,n,e,i,o,a){var s=1/(n-r),u=1/(i-e),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+r)*s,t[9]=(i+e)*u,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function Fe(t,r,n,e,i){var o,a=1/Math.tan(r/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(e-i),t[10]=(i+e)*o,t[14]=2*i*e*o):(t[10]=-1,t[14]=-2*e),t}function Be(t,r,n,e){var i=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),a=Math.tan(r.leftDegrees*Math.PI/180),s=Math.tan(r.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*c*.5,t[10]=e/(n-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*n/(n-e),t[15]=0,t}function Ue(t,r,n,e,i,o,a){var s=1/(r-n),u=1/(e-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(r+n)*s,t[13]=(i+e)*u,t[14]=(a+o)*c,t[15]=1,t}function Ne(t,r,n,e){var i,o,a,s,u,c,f,l,h,p,d=r[0],v=r[1],y=r[2],m=e[0],b=e[1],_=e[2],w=n[0],g=n[1],O=n[2];return Math.abs(d-w)<ee&&Math.abs(v-g)<ee&&Math.abs(y-O)<ee?le(t):(f=d-w,l=v-g,h=y-O,i=b*(h*=p=1/Math.hypot(f,l,h))-_*(l*=p),o=_*(f*=p)-m*h,a=m*l-b*f,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=l*a-h*o,u=h*i-f*a,c=f*o-l*i,(p=Math.hypot(s,u,c))?(s*=p=1/p,u*=p,c*=p):(s=0,u=0,c=0),t[0]=i,t[1]=s,t[2]=f,t[3]=0,t[4]=o,t[5]=u,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*d+o*v+a*y),t[13]=-(s*d+u*v+c*y),t[14]=-(f*d+l*v+h*y),t[15]=1,t)}function Ge(t,r,n,e){var i=r[0],o=r[1],a=r[2],s=e[0],u=e[1],c=e[2],f=i-n[0],l=o-n[1],h=a-n[2],p=f*f+l*l+h*h;p>0&&(f*=p=1/Math.sqrt(p),l*=p,h*=p);var d=u*h-c*l,v=c*f-s*h,y=s*l-u*f;return(p=d*d+v*v+y*y)>0&&(d*=p=1/Math.sqrt(p),v*=p,y*=p),t[0]=d,t[1]=v,t[2]=y,t[3]=0,t[4]=l*y-h*v,t[5]=h*d-f*y,t[6]=f*v-l*d,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function qe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Ve(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Ye(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t[9]=r[9]+n[9],t[10]=r[10]+n[10],t[11]=r[11]+n[11],t[12]=r[12]+n[12],t[13]=r[13]+n[13],t[14]=r[14]+n[14],t[15]=r[15]+n[15],t}function He(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t[9]=r[9]-n[9],t[10]=r[10]-n[10],t[11]=r[11]-n[11],t[12]=r[12]-n[12],t[13]=r[13]-n[13],t[14]=r[14]-n[14],t[15]=r[15]-n[15],t}function We(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t[9]=r[9]*n,t[10]=r[10]*n,t[11]=r[11]*n,t[12]=r[12]*n,t[13]=r[13]*n,t[14]=r[14]*n,t[15]=r[15]*n,t}function Xe(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t[4]=r[4]+n[4]*e,t[5]=r[5]+n[5]*e,t[6]=r[6]+n[6]*e,t[7]=r[7]+n[7]*e,t[8]=r[8]+n[8]*e,t[9]=r[9]+n[9]*e,t[10]=r[10]+n[10]*e,t[11]=r[11]+n[11]*e,t[12]=r[12]+n[12]*e,t[13]=r[13]+n[13]*e,t[14]=r[14]+n[14]*e,t[15]=r[15]+n[15]*e,t}function Ke(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]}function Qe(t,r){var n=t[0],e=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],h=t[10],p=t[11],d=t[12],v=t[13],y=t[14],m=t[15],b=r[0],_=r[1],w=r[2],g=r[3],O=r[4],x=r[5],M=r[6],j=r[7],A=r[8],P=r[9],k=r[10],D=r[11],S=r[12],E=r[13],L=r[14],R=r[15];return Math.abs(n-b)<=ee*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(e-_)<=ee*Math.max(1,Math.abs(e),Math.abs(_))&&Math.abs(i-w)<=ee*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-g)<=ee*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-O)<=ee*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(s-x)<=ee*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(u-M)<=ee*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-j)<=ee*Math.max(1,Math.abs(c),Math.abs(j))&&Math.abs(f-A)<=ee*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(l-P)<=ee*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(h-k)<=ee*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(p-D)<=ee*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(d-S)<=ee*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(v-E)<=ee*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(y-L)<=ee*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(m-R)<=ee*Math.max(1,Math.abs(m),Math.abs(R))}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var Ze=ye,$e=He;function Je(){var t=new ie(3);return ie!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function ti(t){var r=new ie(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function ri(t){var r=t[0],n=t[1],e=t[2];return Math.hypot(r,n,e)}function ni(t,r,n){var e=new ie(3);return e[0]=t,e[1]=r,e[2]=n,e}function ei(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function ii(t,r,n,e){return t[0]=r,t[1]=n,t[2]=e,t}function oi(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function ai(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function si(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function ui(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t}function ci(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function fi(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function li(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t}function hi(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t}function pi(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function di(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t}function vi(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t}function yi(t,r){var n=r[0]-t[0],e=r[1]-t[1],i=r[2]-t[2];return Math.hypot(n,e,i)}function mi(t,r){var n=r[0]-t[0],e=r[1]-t[1],i=r[2]-t[2];return n*n+e*e+i*i}function bi(t){var r=t[0],n=t[1],e=t[2];return r*r+n*n+e*e}function _i(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function wi(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function gi(t,r){var n=r[0],e=r[1],i=r[2],o=n*n+e*e+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t}function Oi(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function xi(t,r,n){var e=r[0],i=r[1],o=r[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-e*u,t[2]=e*s-i*a,t}function Mi(t,r,n,e){var i=r[0],o=r[1],a=r[2];return t[0]=i+e*(n[0]-i),t[1]=o+e*(n[1]-o),t[2]=a+e*(n[2]-a),t}function ji(t,r,n,e,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return t[0]=r[0]*s+n[0]*u+e[0]*c+i[0]*f,t[1]=r[1]*s+n[1]*u+e[1]*c+i[1]*f,t[2]=r[2]*s+n[2]*u+e[2]*c+i[2]*f,t}function Ai(t,r,n,e,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,f=3*o*s,l=3*u*a,h=u*o;return t[0]=r[0]*c+n[0]*f+e[0]*l+i[0]*h,t[1]=r[1]*c+n[1]*f+e[1]*l+i[1]*h,t[2]=r[2]*c+n[2]*f+e[2]*l+i[2]*h,t}function Pi(t,r){r=r||1;var n=2*oe()*Math.PI,e=2*oe()-1,i=Math.sqrt(1-e*e)*r;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=e*r,t}function ki(t,r,n){var e=r[0],i=r[1],o=r[2],a=n[3]*e+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*e+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*e+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*e+n[6]*i+n[10]*o+n[14])/a,t}function Di(t,r,n){var e=r[0],i=r[1],o=r[2];return t[0]=e*n[0]+i*n[3]+o*n[6],t[1]=e*n[1]+i*n[4]+o*n[7],t[2]=e*n[2]+i*n[5]+o*n[8],t}function Si(t,r,n){var e=n[0],i=n[1],o=n[2],a=n[3],s=r[0],u=r[1],c=r[2],f=i*c-o*u,l=o*s-e*c,h=e*u-i*s,p=i*h-o*l,d=o*f-e*h,v=e*l-i*f,y=2*a;return f*=y,l*=y,h*=y,p*=2,d*=2,v*=2,t[0]=s+f+p,t[1]=u+l+d,t[2]=c+h+v,t}function Ei(t,r,n,e){var i=[],o=[];return i[0]=r[0]-n[0],i[1]=r[1]-n[1],i[2]=r[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(e)-i[2]*Math.sin(e),o[2]=i[1]*Math.sin(e)+i[2]*Math.cos(e),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Li(t,r,n,e){var i=[],o=[];return i[0]=r[0]-n[0],i[1]=r[1]-n[1],i[2]=r[2]-n[2],o[0]=i[2]*Math.sin(e)+i[0]*Math.cos(e),o[1]=i[1],o[2]=i[2]*Math.cos(e)-i[0]*Math.sin(e),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Ri(t,r,n,e){var i=[],o=[];return i[0]=r[0]-n[0],i[1]=r[1]-n[1],i[2]=r[2]-n[2],o[0]=i[0]*Math.cos(e)-i[1]*Math.sin(e),o[1]=i[0]*Math.sin(e)+i[1]*Math.cos(e),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Ti(t,r){var n=t[0],e=t[1],i=t[2],o=r[0],a=r[1],s=r[2],u=Math.sqrt(n*n+e*e+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&Oi(t,r)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function zi(t){return t[0]=0,t[1]=0,t[2]=0,t}function Ci(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ii(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function Fi(t,r){var n=t[0],e=t[1],i=t[2],o=r[0],a=r[1],s=r[2];return Math.abs(n-o)<=ee*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(e-a)<=ee*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(i-s)<=ee*Math.max(1,Math.abs(i),Math.abs(s))}var Bi,Ui=ai,Ni=si,Gi=ui,qi=yi,Vi=mi,Yi=ri,Hi=bi,Wi=(Bi=Je(),function(t,r,n,e,i,o){var a,s;for(r||(r=3),n||(n=0),s=e?Math.min(e*r+n,t.length):t.length,a=n;a<s;a+=r)Bi[0]=t[a],Bi[1]=t[a+1],Bi[2]=t[a+2],i(Bi,Bi,o),t[a]=Bi[0],t[a+1]=Bi[1],t[a+2]=Bi[2];return t});function Xi(t,r,n){const e=t.createShader(r);return t.shaderSource(e,n),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:(console.error("An error occurred compiling the shaders: "+t.getShaderInfoLog(e)),t.deleteShader(e),null)}function Ki(t){const r=function(t,r,n){const e=Xi(t,t.VERTEX_SHADER,r),i=Xi(t,t.FRAGMENT_SHADER,n),o=t.createProgram();return t.attachShader(o,e),t.attachShader(o,i),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)?o:(console.error("Unable to initialize the shader program: "+t.getProgramInfoLog(o)),null)}(t,"\n    attribute vec4 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n      vColor = aVertexColor;\n    }\n  ","\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n  ");return{programInfo:{program:r,attribLocations:{vertexPosition:t.getAttribLocation(r,"aVertexPosition"),vertexColor:t.getAttribLocation(r,"aVertexColor")},uniformLocations:{projectionMatrix:t.getUniformLocation(r,"uProjectionMatrix"),modelViewMatrix:t.getUniformLocation(r,"uModelViewMatrix")}},buffers:function(t){const r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),t.STATIC_DRAW);const n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1]),t.STATIC_DRAW),{position:r,color:n}}(t)}}class Qi{static create(t){const r=t.createWebGlBuffer(),n=t.createBuffer(r),e=new Qi(r,n);return r.listener=e,n.listener=e,e}constructor(t,r){this.proxy=t,this.bufferProxy=r,this.canvas=null}async offscreenCanvas(t){this.canvas=await t.getTransferable()}release(){}}class Zi{static create(){const t=ne.getRegistry(),r=new Zi(t);return t.listener=r,r}constructor(t){this._registry=t,this._gl=null,this._webGL=null,this._compositor=null,this._shell=null,this._seat=null,this._surface=null,this._shellSurface=null,this._glBuffer=null,this._lastFrameRenderTime=Date.now(),this._frameCount=0}global(t,r,n){switch(r){case tt.protocolName:this._compositor=this._registry.bind(t,tt.protocolName,tt,n),this._surface=this._compositor.createSurface(),this._onFrame=(e=this._surface,function(){return new Promise((function(t){var r=e.frame();r.listener={done:function(n){t(n),r.destroy()}}}))});break;case Hn.protocolName:this._webGL=this._registry.bind(t,Hn.protocolName,Hn,n),this._glBuffer=Qi.create(this._webGL);break;case Zt.protocolName:this._shell=this._registry.bind(t,Zt.protocolName,Zt,n);break;case Lr.protocolName:this._seat=this._registry.bind(t,Lr.protocolName,Lr,n),this._seat.listener=this}var e}async init(t,r){this._shellSurface=this._shell.getShellSurface(this._surface),this._shellSurface.listener=this,this._shellSurface.setToplevel(),this._shellSurface.setTitle("Simple WebGL");const n=ne.sync();ne.flush(),await n,this._glBuffer.canvas.width=t,this._glBuffer.canvas.height=r,this._gl=this._glBuffer.canvas.getContext("webgl",{desynchronized:!0,alpha:!0,preserveDrawingBuffer:!1}),this._drawState=Ki(this._gl),setInterval(()=>{console.log(`Simpl-WebGL: ${this._frameCount} fps`),this._frameCount=0},1e3)}async draw(t){!function(t,{programInfo:r,buffers:n},o){const a=.001*o;t.clearColor(0,0,0,.7),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const s=45*Math.PI/180,u=t.canvas.width/t.canvas.height,c=e.create();e.perspective(c,s,u,.1,100);const f=e.create();e.translate(f,f,i.fromValues(-0,0,-6)),e.rotate(f,f,a,i.fromValues(0,0,1));{const e=2,i=t.FLOAT,o=!1,a=0,s=0;t.bindBuffer(t.ARRAY_BUFFER,n.position),t.vertexAttribPointer(r.attribLocations.vertexPosition,e,i,o,a,s),t.enableVertexAttribArray(r.attribLocations.vertexPosition)}{const e=4,i=t.FLOAT,o=!1,a=0,s=0;t.bindBuffer(t.ARRAY_BUFFER,n.color),t.vertexAttribPointer(r.attribLocations.vertexColor,e,i,o,a,s),t.enableVertexAttribArray(r.attribLocations.vertexColor)}t.useProgram(r.program),t.uniformMatrix4fv(r.uniformLocations.projectionMatrix,!1,c),t.uniformMatrix4fv(r.uniformLocations.modelViewMatrix,!1,f),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.commit&&t.commit()}(this._gl,this._drawState,t),this._surface.attach(this._glBuffer.bufferProxy,0,0),this._surface.damage(0,0,this._glBuffer.canvas.width,this._glBuffer.canvas.height),this._onFrame().then(t=>this.draw(t)),this._surface.commit(0),ne.flush(),this._frameCount++}globalRemove(t){}configure(t,r,n){}ping(t){this._shellSurface.pong(t)}popupDone(){}capabilities(t){t&Lr.Capability.pointer?(this._pointer=this._seat.getPointer(),this._pointer.listener=this):this._pointer&&(this._pointer.release(),this._pointer=null)}name(t){}axis(t,r,n){}axisDiscrete(t,r){}axisSource(t){}axisStop(t,r){}button(t,r,n,e){e&ur.ButtonState.pressed&&this._shellSurface.move(this._seat,t)}enter(t,r,n,e){}frame(){}leave(t,r){}motion(t,r,n){}}!async function(){const t=Zi.create(800,600),r=ne.sync();ne.flush(),await r,await t.init(800,600),t.draw(0),ne.flush();try{await ne.onClose(),console.log("Application exit.")}catch(t){console.error("Application terminated with error."),console.error(t.stackTrace)}}()}]);