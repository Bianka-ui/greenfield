!function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="/",e(e.s=1)}([function(t,r,e){t.exports=e(2)},function(t,r,e){t.exports=e(3)},function(t,r,e){var n=function(t){"use strict";var r=Object.prototype,e=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,r,e,n){var i=r&&r.prototype instanceof f?r:f,o=Object.create(i.prototype),a=new g(n||[]);return o._invoke=function(t,r,e){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return j()}for(e.method=i,e.arg=o;;){var a=e.delegate;if(a){var s=b(a,e);if(s){if(s===c)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var f=u(t,r,e);if("normal"===f.type){if(n=e.done?"completed":"suspendedYield",f.arg===c)continue;return{value:f.arg,done:e.done}}"throw"===f.type&&(n="completed",e.method="throw",e.arg=f.arg)}}}(t,e,a),o}function u(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var c={};function f(){}function l(){}function p(){}var h={};h[i]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(x([])));v&&v!==r&&e.call(v,i)&&(h=v);var y=p.prototype=f.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(r){t[r]=function(t){return this._invoke(r,t)}}))}function _(t,r){var n;this._invoke=function(i,o){function a(){return new r((function(n,a){!function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function b(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,b(t,r),"throw"===r.method))return c;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=u(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,c;var i=n.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,c):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,c)}function w(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function O(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function g(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return l.prototype=y.constructor=p,p.constructor=l,p[a]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===l||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(_.prototype),_.prototype[o]=function(){return this},t.AsyncIterator=_,t.async=function(r,e,n,i,o){void 0===o&&(o=Promise);var a=new _(s(r,e,n,i),o);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),y[a]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,g.prototype={constructor:g,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=e.call(o,"catchLoc"),u=e.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&e.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),c},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),c}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var i=n.arg;O(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:x(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,r,e){"use strict";e.r(r);var n=e(0),i=e.n(n),o=function(){r.parse=function(t){return new r(256*t>>0)};var t=r.prototype;function r(t){this._raw=t}return t.asInt=function(){return this._raw/256>>0},t.asDouble=function(){return this._raw/256},r}();function a(t){var r=0;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,r){if(!t)return;if("string"==typeof t)return s(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return s(t,r)}(t)))return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function s(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function u(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function c(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){u(o,n,i,a,s,"next",t)}function s(t){u(o,n,i,a,s,"throw",t)}a(void 0)}))}}var f=function(){function t(){this.wlObjects={},this.closed=!1,this._outMessages=[],this._inMessages=[],this._idleHandlers=[]}t.uint=function(t){return{value:t,type:"u",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.uintOptional=function(t){return{value:t,type:"u",size:4,optional:!0,_marshallArg:function(r){new Uint32Array(r.buffer,r.bufferOffset,1)[0]=null===t?0:this.value,r.bufferOffset+=this.size}}},t.fileDescriptor=function(t){return{value:t,type:"h",size:0,optional:!1,_marshallArg:function(t){t.fds.push(this.value)}}},t.fileDescriptorOptional=function(t){return{value:t,type:"h",size:0,optional:!0,_marshallArg:function(t){t.fds.push(this.value)}}},t.int=function(t){return{value:t,type:"i",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.intOptional=function(t){return{value:t,type:"i",size:4,optional:!0,_marshallArg:function(r){new Int32Array(r.buffer,r.bufferOffset,1)[0]=null===t?0:this.value,r.bufferOffset+=this.size}}},t.fixed=function(t){return{value:t,type:"f",size:4,optional:!1,_marshallArg:function(t){new Int32Array(t.buffer,t.bufferOffset,1)[0]=this.value._raw,t.bufferOffset+=this.size}}},t.fixedOptional=function(t){return{value:t,type:"f",size:4,optional:!0,_marshallArg:function(r){new Int32Array(r.buffer,r.bufferOffset,1)[0]=null===t?0:this.value._raw,r.bufferOffset+=this.size}}},t.object=function(t){return{value:t,type:"o",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.id,t.bufferOffset+=this.size}}},t.objectOptional=function(t){return{value:t,type:"o",size:4,optional:!0,_marshallArg:function(r){new Uint32Array(r.buffer,r.bufferOffset,1)[0]=null===t?0:this.value.id,r.bufferOffset+=this.size}}},t.newObject=function(){return{value:0,type:"n",size:4,optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value,t.bufferOffset+=this.size}}},t.string=function(t){return{value:t+"\0",type:"s",size:4+(t.length+1+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;for(var r=this.value.length,e=new Uint8Array(t.buffer,t.bufferOffset+4,r),n=0;n<r;n++)e[n]=this.value[n].codePointAt(0);t.bufferOffset+=this.size}}},t.stringOptional=function(t){return{value:t+"\0",type:"s",size:4+(null===t?0:t.length+1+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.length;for(var r=this.value.length,e=new Uint8Array(t.buffer,t.bufferOffset+4,r),n=0;n<r;n++)e[n]=this.value[n].codePointAt(0)}t.bufferOffset+=this.size}}},t.array=function(t){return{value:t,type:"a",size:4+(t.byteLength+3&-4),optional:!1,_marshallArg:function(t){new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;var r=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,r).set(new Uint8Array(this.value.buffer,0,r)),t.bufferOffset+=this.size}}},t.arrayOptional=function(t){return{value:t,type:"a",size:4+(null===t?0:t.byteLength+3&-4),optional:!0,_marshallArg:function(t){if(null===this.value)new Uint32Array(t.buffer,t.bufferOffset,1)[0]=0;else{new Uint32Array(t.buffer,t.bufferOffset,1)[0]=this.value.byteLength;var r=this.value.byteLength;new Uint8Array(t.buffer,t.bufferOffset+4,r).set(new Uint8Array(this.value.buffer,0,r))}t.bufferOffset+=this.size}}},t._checkMessageSize=function(t,r){if(t.consumed+r>t.size)throw new Error("Request too short.");t.consumed+=r},t.u=function(r){return t._checkMessageSize(r,4),r.buffer[r.bufferOffset++]},t.i=function(r){t._checkMessageSize(r,4);var e=new Int32Array(r.buffer.buffer,r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return r.bufferOffset+=1,e},t.f=function(r){t._checkMessageSize(r,4);var e=new Int32Array(r.buffer.buffer,r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,1)[0];return r.bufferOffset+=1,new o(e>>0)},t.o=function(r,e,n){t._checkMessageSize(r,4);var i=r.buffer[r.bufferOffset++];if(e&&0===i)return null;var o=n.wlObjects[i];if(o)return o;throw new Error("Unknown object id "+i)},t.n=function(r){return t._checkMessageSize(r,4),r.buffer[r.bufferOffset++]},t.s=function(r,e){t._checkMessageSize(r,4);var n=r.buffer[r.bufferOffset++];if(e&&0===n)return null;var i=n+3&-4;t._checkMessageSize(r,i);var o=new Uint8Array(r.buffer.buffer,r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,n-1);return r.bufferOffset+=i/4,String.fromCharCode.apply(String,o)},t.a=function(r,e){t._checkMessageSize(r,4);var n=r.buffer[r.bufferOffset++];if(e&&0===n)return null;var i=n+3&-4;t._checkMessageSize(r,i);var o=r.buffer.buffer.slice(r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT,r.buffer.byteOffset+r.bufferOffset*Uint32Array.BYTES_PER_ELEMENT+n);return r.bufferOffset+=i,o},t.h=function(t){if(t.fds.length>0)return t.fds.shift();throw new Error("Not enough file descriptors in message object.")};var r=t.prototype;return r.addIdleHandler=function(t){this._idleHandlers=[].concat(this._idleHandlers,[t])},r.removeIdleHandler=function(t){this._idleHandlers=this._idleHandlers.filter((function(r){return r!==t}))},r.marshallMsg=function(t,r,e,n){var i={buffer:new ArrayBuffer(e),fds:[],bufferOffset:0},o=new Uint32Array(i.buffer),a=new Uint16Array(i.buffer);o[0]=t,a[2]=r,a[3]=e,i.bufferOffset=8,n.forEach((function(t){return t._marshallArg(i)})),this.onSend(i)},r._idle=function(){var t=c(i.a.mark((function t(){var r,e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a(this._idleHandlers);case 1:if((e=r()).done){t.next=7;break}return n=e.value,t.next=5,n();case 5:t.next=1;break;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.message=function(){var t=c(i.a.mark((function t(r){var e,n,o,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.closed){t.next=2;break}return t.abrupt("return");case 2:if(!(this._inMessages.push(r)>1)){t.next=4;break}return t.abrupt("return");case 4:if(!this._inMessages.length){t.next=40;break}(e=this._inMessages[0]).bufferOffset=0,e.consumed=0,e.size=0;case 9:if(!(e.bufferOffset<e.buffer.length)){t.next=37;break}if(n=e.buffer[e.bufferOffset],o=e.buffer[e.bufferOffset+1],e.size=o>>>16,a=65535&o,!(e.size>e.buffer.byteLength)){t.next=16;break}throw new Error("Request buffer too small");case 16:if(!(s=this.wlObjects[n])){t.next=34;break}return e.bufferOffset+=2,e.consumed=8,t.prev=20,t.next=23,s[a](e);case 23:t.next=30;break;case 25:throw t.prev=25,t.t0=t.catch(20),console.error("\nwlObject: "+s.constructor.name+"["+a+"](..)\nname: "+t.t0.name+" message: "+t.t0.message+" text: "+t.t0.text+"\nerror object stack: \n"+t.t0.stack+"\n"),this.close(),t.t0;case 30:if(!this.closed){t.next=32;break}return t.abrupt("return");case 32:t.next=35;break;case 34:throw new Error("invalid object "+n);case 35:t.next=9;break;case 37:this._inMessages.shift(),t.next=4;break;case 40:return this.flush(),t.next=43,this._idle();case 43:case"end":return t.stop()}}),t,this,[[20,25]])})));return function(r){return t.apply(this,arguments)}}(),r.onSend=function(t){this.closed||this._outMessages.push(t)},r.flush=function(){this.closed||0!==this._outMessages.length&&(this.onFlush(this._outMessages),this._outMessages=[])},r.onFlush=function(t){},r.close=function(){this.closed||(Object.values(this.wlObjects).sort((function(t,r){return t.id-r.id})).forEach((function(t){return t.destroy()})),this._outMessages=null,this._inMessages=null,this.closed=!0)},r.registerWlObject=function(t){if(!this.closed){if(t.id in this.wlObjects)throw new Error("Illegal object id: "+t.id+". Already registered.");this.wlObjects[t.id]=t}},r.unregisterWlObject=function(t){this.closed||delete this.wlObjects[t.id]},t}();function l(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}var p=function(){function t(t,r,e,n,i){this.fd=t,this.type=r,this.url=e,this._onGetTransferable=n,this._onClose=i}var r=t.prototype;return r.getTransferable=function(){var t,r=(t=i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._onGetTransferable(this);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})),function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){l(o,n,i,a,s,"next",t)}function s(t){l(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),r.close=function(){this._onClose(this)},t}(),h=function(){function t(t){var r=this;this.id=t,this._destroyPromise=new Promise((function(t){return r._destroyResolver=t})),this._destroyListeners=[],this._destroyPromise.then((function(){return r._destroyListeners.forEach((function(t){return t(r)}))}))}var r=t.prototype;return r.destroy=function(){this._destroyResolver()},r.addDestroyListener=function(t){this._destroyListeners.push(t)},r.removeDestroyListener=function(t){this._destroyListeners=this._destroyListeners.filter((function(r){return r!==t}))},r.onDestroy=function(){return this._destroyPromise},t}(),d=function(){function t(t){this._fdDomainUUID=t,this._webFDs={},this._nextFD=0}t.create=function(r){return new t(r)};var r=t.prototype;return r.fromArrayBuffer=function(t){var r=this,e=this._nextFD++,n=new URL("client://");n.searchParams.append("fd",""+e),n.searchParams.append("type","ArrayBuffer"),n.searchParams.append("clientId",this._fdDomainUUID);var i=new p(e,"ArrayBuffer",n,(function(){return Promise.resolve(t)}),(function(){delete r._webFDs[e]}));return this._webFDs[e]=i,i},r.fromImageBitmap=function(t){var r=this,e=this._nextFD++,n=new URL("client://");n.searchParams.append("fd",""+e),n.searchParams.append("type","ImageBitmap"),n.searchParams.append("clientId",this._fdDomainUUID);var i=new p(e,"ImageBitmap",n,(function(){return Promise.resolve(t)}),(function(){delete r._webFDs[e]}));return this._webFDs[e]=i,i},r.fromOffscreenCanvas=function(t){var r=this,e=this._nextFD++,n="OffscreenCanvas",i=new URL("client://");i.searchParams.append("fd",""+e),i.searchParams.append("type",n),i.searchParams.append("clientId",this._fdDomainUUID);var o=new p(e,n,i,(function(){return Promise.resolve(t)}),(function(){delete r._webFDs[e]}));return this._webFDs[e]=o,o},r.getWebFD=function(t){return this._webFDs[t]},t}();var v=function(t){var r,e;function n(r,e,n){var i;return(i=t.call(this,n)||this).display=r,i._connection=e,e.registerWlObject(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i}e=t,(r=n).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var i=n.prototype;return i.destroy=function(){t.prototype.destroy.call(this),this._connection.unregisterWlObject(this)},i._marshallConstructor=function(t,r,e,n){var i=new e(this.display,this._connection,this.display.generateNextId()),o=8;return n.forEach((function(t){"n"===t.type&&(t.value=i.id),o+=t.size})),this._connection.marshallMsg(t,r,o,n),i},i._marshall=function(t,r,e){var n=8;e.forEach((function(t){return n+=t.size})),this._connection.marshallMsg(t,r,n,e)},n}(h);function y(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h;var m=f.u,_=(f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;function n(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return e=t,(r=n).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e,n.prototype[0]=function(){var t,r=(t=i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.done(m(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){y(o,n,i,a,s,"next",t)}function s(t){y(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),n}(v));_.protocolName="wl_callback";var b=_;function w(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function O(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){w(o,n,i,a,s,"next",t)}function s(t){w(o,n,i,a,s,"throw",t)}a(void 0)}))}}var g=f.uint,x=(f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject),j=f.string,k=(f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u),P=(f.i,f.f,f.o,f.n,f.s),A=(f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.bind=function(t,r,e,n){return this._marshallConstructor(this.id,0,e,[g(t),j(r),g(n),x()])},n[0]=function(){var t=O(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.global(k(r),P(r,!1),k(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=O(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.globalRemove(k(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));A.protocolName="wl_registry";var D=A;function S(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function E(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){S(o,n,i,a,s,"next",t)}function s(t){S(o,n,i,a,s,"throw",t)}a(void 0)}))}}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional;var z=f.newObject,L=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u),M=(f.i,f.f,f.o),N=(f.n,f.s),C=(f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.sync=function(){return this._marshallConstructor(this.id,0,b,[z()])},n.getRegistry=function(){return this._marshallConstructor(this.id,1,D,[z()])},n[0]=function(){var t=E(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.error(M(r,!1,this._connection),L(r),N(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=E(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.deleteId(L(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));C.protocolName="wl_display",C.Error={invalidObject:0,invalidMethod:1,noMemory:2};var U=C,I=function(){function t(t){var r=this;this._recycledIds=[],this._connection=t,this._displayProxy=new U(this,this._connection,1),this._lastId=1,this._destroyResolve=null,this._destroyReject=null,this._destroyPromise=new Promise((function(t,e){r._destroyResolve=t,r._destroyReject=e})),this._displayProxy.listener={deleteId:function(t){r._recycledIds.push(t)},error:function(t,e,n){r._protocolError(t,e,n)}},this.errorHandler=null}var r=t.prototype;return r.close=function(){this._connection.closed||(this._connection.close(),this._destroyResolve())},r._protocolError=function(t,r,e){this._connection.closed||(this._connection.close(),this._destroyReject(new Error("Protocol error. type: "+t.constructor.name+", id: "+t.id+", code: "+r+", message: "+e)))},r.onClose=function(){return this._destroyPromise},r.getRegistry=function(){return this._displayProxy.getRegistry()},r.generateNextId=function(){return this._recycledIds.length?this._recycledIds.shift():++this._lastId},r.sync=function(){var t=this;return new Promise((function(r){var e=t._displayProxy.sync();e.listener={done:function(t){r(t),e.destroy()}}}))},r.flush=function(){this._connection.flush()},t}();function R(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function B(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){R(o,n,i,a,s,"next",t)}function s(t){R(o,n,i,a,s,"throw",t)}a(void 0)}))}}var T=f.uint,F=(f.uintOptional,f.int),G=(f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional),H=f.newObject,W=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o),Y=(f.n,f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.attach=function(t,r,e){this._marshall(this.id,1,[G(t),F(r),F(e)])},n.damage=function(t,r,e,n){this._marshall(this.id,2,[F(t),F(r),F(e),F(n)])},n.frame=function(){return this._marshallConstructor(this.id,3,b,[H()])},n.setOpaqueRegion=function(t){this._marshall(this.id,4,[G(t)])},n.setInputRegion=function(t){this._marshall(this.id,5,[G(t)])},n.commit=function(t){this._marshall(this.id,6,[T(t)])},n.setBufferTransform=function(t){this._marshall(this.id,7,[F(t)])},n.setBufferScale=function(t){this._marshall(this.id,8,[F(t)])},n.damageBuffer=function(t,r,e,n){this._marshall(this.id,9,[F(t),F(r),F(e),F(n)])},n[0]=function(){var t=B(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(W(r,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=B(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(W(r,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));Y.protocolName="wl_surface",Y.Error={invalidScale:0,invalidTransform:1};var K=Y;f.uint,f.uintOptional;var X=f.int,q=(f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=i.prototype;function i(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.add=function(t,r,e,n){this._marshall(this.id,1,[X(t),X(r),X(e),X(n)])},n.subtract=function(t,r,e,n){this._marshall(this.id,2,[X(t),X(r),X(e),X(n)])},i}(v));q.protocolName="wl_region";var V=q;f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional;var $=f.newObject,J=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=i.prototype;function i(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.createSurface=function(){return this._marshallConstructor(this.id,0,K,[$()])},n.createRegion=function(){return this._marshallConstructor(this.id,1,V,[$()])},i}(v));J.protocolName="wl_compositor";var Q=J;function Z(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a;var tt=function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n[0]=function(){var t,r=(t=i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.release();case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){Z(o,n,i,a,s,"next",t)}function s(t){Z(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),o}(v);tt.protocolName="wl_buffer";var rt=tt;function et(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function nt(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){et(o,n,i,a,s,"next",t)}function s(t){et(o,n,i,a,s,"throw",t)}a(void 0)}))}}var it=f.uint,ot=(f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string),at=f.stringOptional,st=(f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor),ut=(f.h,f.u),ct=(f.i,f.f,f.o,f.n,f.s),ft=(f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.accept=function(t,r){this._marshall(this.id,0,[it(t),at(r)])},n.receive=function(t,r){this._marshall(this.id,1,[ot(t),st(r)])},n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,2,[])},n.finish=function(){this._marshall(this.id,3,[])},n.setActions=function(t,r){this._marshall(this.id,4,[it(t),it(r)])},n[0]=function(){var t=nt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.offer(ct(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=nt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.sourceActions(ut(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[2]=function(){var t=nt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.action(ut(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));ft.protocolName="wl_data_offer",ft.Error={invalidFinish:0,invalidActionMask:1,invalidAction:2,invalidOffer:3};var lt=ft;function pt(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function ht(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){pt(o,n,i,a,s,"next",t)}function s(t){pt(o,n,i,a,s,"throw",t)}a(void 0)}))}}var dt=f.uint,vt=(f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string),yt=(f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h),mt=f.u,_t=(f.i,f.f,f.o,f.n,f.s),bt=(f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.offer=function(t){this._marshall(this.id,0,[vt(t)])},n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,1,[])},n.setActions=function(t){this._marshall(this.id,2,[dt(t)])},n[0]=function(){var t=ht(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.target(_t(r,!0));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=ht(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.send(_t(r,!1),yt(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[2]=function(){var t=ht(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.cancelled();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[3]=function(){var t=ht(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dndDropPerformed();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[4]=function(){var t=ht(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dndFinished();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[5]=function(){var t=ht(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.action(mt(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));bt.protocolName="wl_data_source",bt.Error={invalidActionMask:0,invalidSource:1};var wt=bt;function Ot(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function gt(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){Ot(o,n,i,a,s,"next",t)}function s(t){Ot(o,n,i,a,s,"throw",t)}a(void 0)}))}}var xt=f.uint,jt=(f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object),kt=f.objectOptional,Pt=(f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u),At=(f.i,f.f),Dt=f.o,St=f.n,Et=(f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.startDrag=function(t,r,e,n){this._marshall(this.id,0,[kt(t),jt(r),kt(e),xt(n)])},n.setSelection=function(t,r){this._marshall(this.id,1,[kt(t),xt(r)])},n.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,2,[])},n[0]=function(){var t=gt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.dataOffer(new lt(this._connection,St(r)));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=gt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(Pt(r),Dt(r,!1,this._connection),At(r),At(r),Dt(r,!0,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[2]=function(){var t=gt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[3]=function(){var t=gt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(Pt(r),At(r),At(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[4]=function(){var t=gt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.drop();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[5]=function(){var t=gt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.selection(Dt(r,!0,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));Et.protocolName="wl_data_device",Et.Error={role:0};var zt=Et;f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional;var Lt=f.object,Mt=(f.objectOptional,f.newObject),Nt=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=i.prototype;function i(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.createDataSource=function(){return this._marshallConstructor(this.id,0,wt,[Mt()])},n.getDataDevice=function(t){return this._marshallConstructor(this.id,1,zt,[Mt(),Lt(t)])},i}(v));Nt.protocolName="wl_data_device_manager",Nt.DndAction={none:0,copy:1,move:2,ask:4};function Ct(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function Ut(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){Ct(o,n,i,a,s,"next",t)}function s(t){Ct(o,n,i,a,s,"throw",t)}a(void 0)}))}}var It=f.uint,Rt=(f.uintOptional,f.int),Bt=(f.intOptional,f.fixed,f.fixedOptional,f.object),Tt=f.objectOptional,Ft=(f.newObject,f.string),Gt=(f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u),Ht=f.i,Wt=(f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.pong=function(t){this._marshall(this.id,0,[It(t)])},n.move=function(t,r){this._marshall(this.id,1,[Bt(t),It(r)])},n.resize=function(t,r,e){this._marshall(this.id,2,[Bt(t),It(r),It(e)])},n.setToplevel=function(){this._marshall(this.id,3,[])},n.setTransient=function(t,r,e,n){this._marshall(this.id,4,[Bt(t),Rt(r),Rt(e),It(n)])},n.setFullscreen=function(t,r,e){this._marshall(this.id,5,[It(t),It(r),Tt(e)])},n.setPopup=function(t,r,e,n,i,o){this._marshall(this.id,6,[Bt(t),It(r),Bt(e),Rt(n),Rt(i),It(o)])},n.setMaximized=function(t){this._marshall(this.id,7,[Tt(t)])},n.setTitle=function(t){this._marshall(this.id,8,[Ft(t)])},n.setClass=function(t){this._marshall(this.id,9,[Ft(t)])},n[0]=function(){var t=Ut(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.ping(Gt(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=Ut(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(Gt(r),Ht(r),Ht(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[2]=function(){var t=Ut(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.popupDone();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));Wt.protocolName="wl_shell_surface",Wt.Resize={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},Wt.Transient={inactive:1},Wt.FullscreenMethod={default:0,scale:1,driver:2,fill:3};var Yt=Wt;f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional;var Kt=f.object,Xt=(f.objectOptional,f.newObject),qt=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;function n(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return e=t,(r=n).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e,n.prototype.getShellSurface=function(t){return this._marshallConstructor(this.id,0,Yt,[Xt(),Kt(t)])},n}(v));qt.protocolName="wl_shell",qt.Error={role:0};var Vt=qt;function $t(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function Jt(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){$t(o,n,i,a,s,"next",t)}function s(t){$t(o,n,i,a,s,"throw",t)}a(void 0)}))}}var Qt=f.uint,Zt=(f.uintOptional,f.int),tr=(f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional),rr=(f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u),er=f.i,nr=f.f,ir=f.o,or=(f.n,f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.setCursor=function(t,r,e,n){this._marshall(this.id,0,[Qt(t),tr(r),Zt(e),Zt(n)])},n.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,1,[])},n[0]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(rr(r),ir(r,!1,this._connection),nr(r),nr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(rr(r),ir(r,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[2]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(rr(r),nr(r),nr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[3]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.button(rr(r),rr(r),rr(r),rr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[4]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axis(rr(r),rr(r),nr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[5]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.frame();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[6]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisSource(rr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[7]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisStop(rr(r),rr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[8]=function(){var t=Jt(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.axisDiscrete(rr(r),er(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));or.protocolName="wl_pointer",or.Error={role:0},or.ButtonState={released:0,pressed:1},or.Axis={verticalScroll:0,horizontalScroll:1},or.AxisSource={wheel:0,finger:1,continuous:2,wheelTilt:3};var ar=or;function sr(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function ur(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){sr(o,n,i,a,s,"next",t)}function s(t){sr(o,n,i,a,s,"throw",t)}a(void 0)}))}}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor;var cr=f.h,fr=f.u,lr=f.i,pr=(f.f,f.o),hr=(f.n,f.s,f.a),dr=function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n[0]=function(){var t=ur(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.keymap(fr(r),cr(r),fr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=ur(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.enter(fr(r),pr(r,!1,this._connection),hr(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[2]=function(){var t=ur(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.leave(fr(r),pr(r,!1,this._connection));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[3]=function(){var t=ur(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.key(fr(r),fr(r),fr(r),fr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[4]=function(){var t=ur(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.modifiers(fr(r),fr(r),fr(r),fr(r),fr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[5]=function(){var t=ur(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.repeatInfo(lr(r),lr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v);dr.protocolName="wl_keyboard",dr.KeymapFormat={noKeymap:0,xkbV1:1},dr.KeyState={released:0,pressed:1};var vr=dr;function yr(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function mr(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){yr(o,n,i,a,s,"next",t)}function s(t){yr(o,n,i,a,s,"throw",t)}a(void 0)}))}}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h;var _r=f.u,br=f.i,wr=f.f,Or=f.o,gr=(f.n,f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n[0]=function(){var t=mr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.down(_r(r),_r(r),Or(r,!1,this._connection),br(r),wr(r),wr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=mr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.up(_r(r),_r(r),br(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[2]=function(){var t=mr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.motion(_r(r),br(r),wr(r),wr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[3]=function(){var t=mr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.frame();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[4]=function(){var t=mr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.cancel();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[5]=function(){var t=mr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.shape(br(r),wr(r),wr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[6]=function(){var t=mr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.orientation(br(r),wr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));gr.protocolName="wl_touch";var xr=gr;function jr(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function kr(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){jr(o,n,i,a,s,"next",t)}function s(t){jr(o,n,i,a,s,"throw",t)}a(void 0)}))}}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional;var Pr=f.newObject,Ar=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u),Dr=(f.i,f.f,f.o,f.n,f.s),Sr=(f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.getPointer=function(){return this._marshallConstructor(this.id,0,ar,[Pr()])},n.getKeyboard=function(){return this._marshallConstructor(this.id,1,vr,[Pr()])},n.getTouch=function(){return this._marshallConstructor(this.id,2,xr,[Pr()])},n.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,3,[])},n[0]=function(){var t=kr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.capabilities(Ar(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=kr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.name(Dr(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));Sr.protocolName="wl_seat",Sr.Capability={pointer:1,keyboard:2,touch:4};function Er(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function zr(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){Er(o,n,i,a,s,"next",t)}function s(t){Er(o,n,i,a,s,"throw",t)}a(void 0)}))}}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h;var Lr=f.u,Mr=f.i,Nr=(f.f,f.o,f.n,f.s),Cr=(f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.release=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n[0]=function(){var t=zr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.geometry(Mr(r),Mr(r),Mr(r),Mr(r),Mr(r),Nr(r,!1),Nr(r,!1),Mr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=zr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.mode(Lr(r),Mr(r),Mr(r),Mr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[2]=function(){var t=zr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.done();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[3]=function(){var t=zr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.scale(Mr(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));Cr.protocolName="wl_output",Cr.Subpixel={unknown:0,none:1,horizontalRgb:2,horizontalBgr:3,verticalRgb:4,verticalBgr:5},Cr.Transform={normal:0,90:1,180:2,270:3,flipped:4,flipped90:5,flipped180:6,flipped270:7},Cr.Mode={current:1,preferred:2};f.uint,f.uintOptional;var Ur=f.int,Ir=(f.intOptional,f.fixed,f.fixedOptional,f.object),Rr=(f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=i.prototype;function i(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.setPosition=function(t,r){this._marshall(this.id,1,[Ur(t),Ur(r)])},n.placeAbove=function(t){this._marshall(this.id,2,[Ir(t)])},n.placeBelow=function(t){this._marshall(this.id,3,[Ir(t)])},n.setSync=function(){this._marshall(this.id,4,[])},n.setDesync=function(){this._marshall(this.id,5,[])},i}(v));Rr.protocolName="wl_subsurface",Rr.Error={badSurface:0};var Br=Rr;f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional;var Tr=f.object,Fr=(f.objectOptional,f.newObject),Gr=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=i.prototype;function i(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.getSubsurface=function(t,r){return this._marshallConstructor(this.id,1,Br,[Fr(),Tr(t),Tr(r)])},i}(v));Gr.protocolName="wl_subcompositor",Gr.Error={badSurface:0};var Hr=f.uint,Wr=(f.uintOptional,f.int),Yr=(f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=i.prototype;function i(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.setSize=function(t,r){this._marshall(this.id,1,[Wr(t),Wr(r)])},n.setAnchorRect=function(t,r,e,n){this._marshall(this.id,2,[Wr(t),Wr(r),Wr(e),Wr(n)])},n.setAnchor=function(t){this._marshall(this.id,3,[Hr(t)])},n.setGravity=function(t){this._marshall(this.id,4,[Hr(t)])},n.setConstraintAdjustment=function(t){this._marshall(this.id,5,[Hr(t)])},n.setOffset=function(t,r){this._marshall(this.id,6,[Wr(t),Wr(r)])},i}(v));Yr.protocolName="xdg_positioner",Yr.Error={invalidInput:0},Yr.Anchor={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},Yr.Gravity={none:0,top:1,bottom:2,left:3,right:4,topLeft:5,bottomLeft:6,topRight:7,bottomRight:8},Yr.ConstraintAdjustment={none:0,slideX:1,slideY:2,flipX:4,flipY:8,resizeX:16,resizeY:32};var Kr=Yr;function Xr(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function qr(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){Xr(o,n,i,a,s,"next",t)}function s(t){Xr(o,n,i,a,s,"throw",t)}a(void 0)}))}}var Vr=f.uint,$r=(f.uintOptional,f.int),Jr=(f.intOptional,f.fixed,f.fixedOptional,f.object),Qr=f.objectOptional,Zr=(f.newObject,f.string),te=(f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i),re=(f.f,f.o,f.n,f.s,f.a),ee=function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.setParent=function(t){this._marshall(this.id,1,[Qr(t)])},n.setTitle=function(t){this._marshall(this.id,2,[Zr(t)])},n.setAppId=function(t){this._marshall(this.id,3,[Zr(t)])},n.showWindowMenu=function(t,r,e,n){this._marshall(this.id,4,[Jr(t),Vr(r),$r(e),$r(n)])},n.move=function(t,r){this._marshall(this.id,5,[Jr(t),Vr(r)])},n.resize=function(t,r,e){this._marshall(this.id,6,[Jr(t),Vr(r),Vr(e)])},n.setMaxSize=function(t,r){this._marshall(this.id,7,[$r(t),$r(r)])},n.setMinSize=function(t,r){this._marshall(this.id,8,[$r(t),$r(r)])},n.setMaximized=function(){this._marshall(this.id,9,[])},n.unsetMaximized=function(){this._marshall(this.id,10,[])},n.setFullscreen=function(t){this._marshall(this.id,11,[Qr(t)])},n.unsetFullscreen=function(){this._marshall(this.id,12,[])},n.setMinimized=function(){this._marshall(this.id,13,[])},n[0]=function(){var t=qr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(te(r),te(r),re(r,!1));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=qr(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.close();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v);ee.protocolName="xdg_toplevel",ee.ResizeEdge={none:0,top:1,bottom:2,left:4,topLeft:5,bottomLeft:6,right:8,topRight:9,bottomRight:10},ee.State={maximized:1,fullscreen:2,resizing:3,activated:4};var ne=ee;function ie(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}function oe(t){return function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){ie(o,n,i,a,s,"next",t)}function s(t){ie(o,n,i,a,s,"throw",t)}a(void 0)}))}}var ae=f.uint,se=(f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object),ue=(f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i),ce=(f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.grab=function(t,r){this._marshall(this.id,1,[se(t),ae(r)])},n[0]=function(){var t=oe(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(ue(r),ue(r),ue(r),ue(r));case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n[1]=function(){var t=oe(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.popupDone();case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),o}(v));ce.protocolName="xdg_popup",ce.Error={invalidGrab:0};var fe=ce;function le(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}var pe=f.uint,he=(f.uintOptional,f.int),de=(f.intOptional,f.fixed,f.fixedOptional,f.object),ve=f.objectOptional,ye=f.newObject,me=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u),_e=(f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.getToplevel=function(){return this._marshallConstructor(this.id,1,ne,[ye()])},n.getPopup=function(t,r){return this._marshallConstructor(this.id,2,fe,[ye(),ve(t),de(r)])},n.setWindowGeometry=function(t,r,e,n){this._marshall(this.id,3,[he(t),he(r),he(e),he(n)])},n.ackConfigure=function(t){this._marshall(this.id,4,[pe(t)])},n[0]=function(){var t,r=(t=i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.configure(me(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){le(o,n,i,a,s,"next",t)}function s(t){le(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),o}(v));_e.protocolName="xdg_surface",_e.Error={notConstructed:1,alreadyConstructed:2,unconfiguredBuffer:3};var be=_e;function we(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}var Oe=f.uint,ge=(f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object),xe=(f.objectOptional,f.newObject),je=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u),ke=(f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.destroy=function(){t.prototype.destroy.call(this),this._marshall(this.id,0,[])},n.createPositioner=function(){return this._marshallConstructor(this.id,1,Kr,[xe()])},n.getXdgSurface=function(t){return this._marshallConstructor(this.id,2,be,[xe(),ge(t)])},n.pong=function(t){this._marshall(this.id,3,[Oe(t)])},n[0]=function(){var t,r=(t=i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.ping(je(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){we(o,n,i,a,s,"next",t)}function s(t){we(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),o}(v));ke.protocolName="xdg_wm_base",ke.Error={role:0,defunctSurfaces:1,notTheTopmostPopup:2,invalidPopupParent:3,invalidSurfaceState:4,invalidPositioner:5};function Pe(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional;var Ae=f.fileDescriptor,De=f.h,Se=(f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=o).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=o.prototype;function o(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.attach=function(t){this._marshall(this.id,0,[Ae(t)])},n[0]=function(){var t,r=(t=i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.detach(De(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){Pe(o,n,i,a,s,"next",t)}function s(t){Pe(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),o}(v));Se.protocolName="gr_web_shm_buffer";var Ee=Se;f.uint,f.uintOptional;var ze=f.int,Le=(f.intOptional,f.fixed,f.fixedOptional,f.object),Me=(f.objectOptional,f.newObject),Ne=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=i.prototype;function i(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.createWebArrayBuffer=function(){return this._marshallConstructor(this.id,0,Ee,[Me()])},n.createBuffer=function(t,r,e){return this._marshallConstructor(this.id,1,rt,[Me(),Le(t),ze(r),ze(e)])},i}(v));Ne.protocolName="gr_web_shm";var Ce=Ne;function Ue(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional,f.object,f.objectOptional,f.newObject,f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor;var Ie=f.h,Re=(f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;function n(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return e=t,(r=n).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e,n.prototype[0]=function(){var t,r=(t=i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listener.offscreenCanvas(Ie(r));case 2:case"end":return t.stop()}}),t,this)})),function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){Ue(o,n,i,a,s,"next",t)}function s(t){Ue(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}(),n}(v));Re.protocolName="gr_web_gl_buffer";var Be=Re;f.uint,f.uintOptional,f.int,f.intOptional,f.fixed,f.fixedOptional;var Te=f.object,Fe=(f.objectOptional,f.newObject),Ge=(f.string,f.stringOptional,f.array,f.arrayOptional,f.fileDescriptorOptional,f.fileDescriptor,f.h,f.u,f.i,f.f,f.o,f.n,f.s,f.a,function(t){var r,e;e=t,(r=i).prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e;var n=i.prototype;function i(r,e,n){var i;return(i=t.call(this,r,e,n)||this).listener=null,i}return n.createWebGlBuffer=function(){return this._marshallConstructor(this.id,0,Be,[Fe()])},n.createBuffer=function(t){return this._marshallConstructor(this.id,1,rt,[Fe(),Te(t)])},i}(v));Ge.protocolName="gr_web_gl";function He(t){var r=0;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,r){if(!t)return;if("string"==typeof t)return We(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return We(t,r)}(t)))return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function We(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Ye(t,r,e,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void e(t)}s.done?r(u):Promise.resolve(u).then(n,i)}var Ke,Xe,qe,Ve,$e=d.create(([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^self.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))),Je=new f,Qe=new I(Je);Ke=Qe,Xe=Je,qe=$e,Ve=[],onmessage=function(t){if(!Xe.closed){var r=t.data;if(r.protocolMessage instanceof ArrayBuffer){var e=new Uint32Array(r.protocolMessage),n=r.meta.map((function(t){return t instanceof ArrayBuffer?qe.fromArrayBuffer(t):t instanceof ImageBitmap?qe.fromImageBitmap(t):t instanceof OffscreenCanvas?qe.fromOffscreenCanvas(t):(console.warn("COMPOSITOR BUG? Unsupported transferable received from compositor: "+t+". WebFD will be null."),null)}));try{Xe.message({buffer:e,fds:n})}catch(t){Ke.errorHandler&&"function"==typeof Ke.errorHandler?Ke.errorHandler(t):(console.error("\tname: "+t.name+" message: "+t.message+" text: "+t.text),console.error("error object stack: "),console.error(t.stack))}}else console.error("[web-worker-client] server send an illegal message."),Xe.close()}},Xe.onFlush=function(){var t,r=(t=i.a.mark((function t(r){var e,n,o,a,s,u,c,f,l,p,h,d,v;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ve.push(r),!(Ve.length>1)){t.next=3;break}return t.abrupt("return");case 3:if(!Ve.length){t.next=30;break}e=Ve[0],n=e.reduce((function(t,r){return t+r.buffer.byteLength}),0),o=new Uint32Array(new ArrayBuffer(n)),a=0,s=[],u=He(e);case 10:if((c=u()).done){t.next=26;break}f=c.value,l=He(f.fds);case 13:if((p=l()).done){t.next=21;break}return h=p.value,t.next=17,h.getTransferable();case 17:d=t.sent,s.push(d);case 19:t.next=13;break;case 21:v=new Uint32Array(f.buffer),o.set(v,a),a+=v.length;case 24:t.next=10;break;case 26:postMessage({protocolMessage:o.buffer,meta:s},[o.buffer].concat(s)),Ve.shift(),t.next=3;break;case 30:case"end":return t.stop()}}),t)})),function(){var r=this,e=arguments;return new Promise((function(n,i){var o=t.apply(r,e);function a(t){Ye(o,n,i,a,s,"next",t)}function s(t){Ye(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}();class Ze{static create(t,r,e,n){const i=new Array(r),o=new Ze(i);for(let a=0;a<r;a++)i[a]=tn.create(t,e,n,o);return o}constructor(t){this._available=t,this._busy=[]}give(t){const r=this._busy.indexOf(t);r>-1&&this._busy.splice(r,1),this._available.push(t)}take(){const t=this._available.shift();return null!=t?(this._busy.push(t),t):null}}class tn{static create(t,r,e,n){const i=new ArrayBuffer(e*r*Uint32Array.BYTES_PER_ELEMENT),o=$e.fromArrayBuffer(i),a=t.createWebArrayBuffer(),s=t.createBuffer(a,r,e),u=new tn(a,s,o,i,r,e,n);return a.listener=u,s.listener=u,u}constructor(t,r,e,n,i,o,a){this.proxy=t,this.bufferProxy=r,this._pixelContent=e,this.arrayBuffer=n,this.width=i,this.height=o,this._shmBufferPool=a}attach(){this.proxy.attach(this._pixelContent)}async detach(t){this._pixelContent=t,this.arrayBuffer=await t.getTransferable()}release(){this._shmBufferPool.give(this)}}class rn{static create(t,r){const e=Qe.getRegistry(),n=new rn(e,t,r);return e.listener=n,n}constructor(t,r,e){this._registry=t,this.width=r,this.height=e,this._shmBufferPool=null,this._compositor=null,this._webShm=null,this._shell=null,this._surface=null}global(t,r,e){var n;r===Q.protocolName&&(this._compositor=this._registry.bind(t,r,Q,e),this._surface=this._compositor.createSurface(),this._onFrame=(n=this._surface,function(){return new Promise((function(t){var r=n.frame();r.listener={done:function(e){t(e),r.destroy()}}}))})),r===Ce.protocolName&&(this._webShm=this._registry.bind(t,r,Ce,e),this._webShm.listener=this,this._shmBufferPool=Ze.create(this._webShm,2,this.width,this.height)),r===Vt.protocolName&&(this._shell=this._registry.bind(t,r,Vt,e))}init(){this._shellSurface=this._shell.getShellSurface(this._surface),this._shellSurface.listener=this,this._shellSurface.setToplevel(),this._shellSurface.setTitle("Simple Web Shm")}_paintPixels(t,r){const e=t.width>>1,n=t.height>>1;let i,o;const a=new Uint32Array(t.arrayBuffer);o=(n<e?n:e)-8,i=o-32,o*=o,i*=i;let s=0;for(let u=0;u<t.height;u++){const c=(u-e)*(u-e);for(let e=0;e<t.width;e++){let t,f=4278190080;const l=(e-n)*(e-n)+c;t=l<i?525313*((l>>5)+(r>>6)):l<o?525313*(u+(r>>5)):525313*(e+(r>>4)),f|=(16711680&t)>>16,f|=65280&t,f|=(255&t)<<16,a[s++]=f}}}draw(t){const r=this._shmBufferPool.take();r?(this._paintPixels(r,t),r.attach(),this._surface.attach(r.bufferProxy,0,0),this._surface.damage(0,0,r.width,r.height),this._onFrame().then(t=>this.draw(t)),this._surface.commit(0)):(console.error("All buffers occupied by compositor!"),Qe.close())}globalRemove(t){}configure(t,r,e){}ping(t){this._shellSurface.pong(t)}popupDone(){}}!async function(){const t=rn.create(250,250),r=Qe.sync();Qe.flush(),await r,t.init(),t.draw(0);try{await Qe.onClose(),console.log("Application exit.")}catch(t){console.error("Application terminated with error."),console.error(t.stackTrace)}}()}]);